<!DOCTYPE html>
<html>
<head>
   <title>NFS</title>
   <meta http-equiv="X-UA-Compatible" content="IE=edge" />
   <meta name="viewport" content="width=device-width, user-scalable=yes, initial-scale=1, minimum-scale=1" />
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="" />
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
   <meta http-equiv="content-language" content="en-us" />
   <meta name="description" content="Preparing NFS access on Linux If you want to export for example the directory /opt/test per NFS to any other computer you must execute the following command: &nbsp; &nbsp; exportfs -o..." />
   <meta http-equiv="Content-Style-Type" content="text/css" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <link id="tabscheme" type="text/css" href="hm_topic.css" rel="stylesheet" />   
<style type="text/css">
/* No header topics */

/* Breadcrumb trail */
p#breadcrumbs {
font-family: Verdana, Tahoma, Helvetica, Sans-Serif;   padding: 2px 0 1px 2px;
   margin: 0;
   font-size: 8pt; 
   color: #999;
   }   
p#breadcrumbs a { color: #999; text-decoration: none;}
p#breadcrumbs a:visited {color: #999;}
p#breadcrumbs a:hover { color: #333; border-bottom: 1px dotted #333; }

/* Search hightlight color */
span.highlight {background-color: #ffff40;}
</style>
<script type="text/javascript">
var hmHeaderTopic = true;

</script> 
<!--[if IE 9]>
<link id="iesvgcss" rel="stylesheet" type="text/css" href="hm_webhelp_svg.css" />
<![endif]-->	
<script src="jquery.js"></script>
<script type="text/javascript" src="jquery.tools.min.js"></script>
<script type="text/javascript" src="jquery.scrollTo-min.js"></script>
<script type="text/javascript"> 
// General topic variables
var tVars = {
   hmHelpPage: "index.html",
   nextP: "ftp-connection.html",
   prevP: "filepath.html",
   currP: "nfs.html",
   descr: "Preparing NFS access on Linux If you want to export for example the directory /opt/test per NFS to any other computer you must execute the following command: &nbsp; &nbsp; exportfs -o...",
   keys: "",
   defP: "filepath.html",
   mailUrl: "",
   mailUrlQuery: "",
   projectTitle: "Documentation",
   titleP: "NFS",
   mailsubject: "Your feedback: Documentation - NFS",
   sharesubject: "Documentation - NFS",
   simplesubject: "Documentation%20Feedback",
   mailid: "NFS",
   mailpath: "Orchestra Documentation &gt; Reference Manual &gt; Designer Reference &gt; Scenario Elements &gt; Environment entries &gt; Filepath &gt; NFS /",
   mailbody: "",
   fbtype: false,
   header: true,
   background: "spacer.gif",
   tablesReady: false,
   togglesReady: false,
   webRedirect: true,
   topicTitleBar: true,
   titleBarContent: "topic",
   printFooter: true,
   zoomTip: "Click here to view image in its original size",
   autoPrint: true,
   printButton: "Print",
   printButtonTip: "Print topic"
   }
// Popup configuration
 var hmpBShadow = true;
 var hmPopSmallDim = 500;
 var hmPopKillVideo = true;
 // AutoTOC variables
 var hmatocvars = {
   atoc_show: true,
   atoc_title: "Topic content",
   atoc_tip: "Navigate to:&nbsp;",
   atoc_minHeaders: 3,
   atoc_btntip_off: "No topiv headers on this site",
   atoc_btntip_on: "Show/hide topic menu",
   atoc_toptip: "Navigate to beginning of page",
   atoc_top: "Beginning of page",
   atoc_bg: "#f6f6f6",
   atoc_border: "silver",
   atoc_linkcolor: "#444",
   atoc_linklimit: 45,
   atoc_hovercolor: "#000",
   atoc_hoverbgcolor: "#e0e0e0"
}
// Sortable tables
var sortVars = {
   europeandate: false,
   germanNumbers: false,
   imagePath: "",
   image_up: "arrow-up.gif",
   image_down: "arrow-down.gif",
   image_empty: "arrow-empty.gif",
   image_none: "arrow-none.gif",
   sort_tip: "Click here to sort column",
   umlauts: "false"
   }

</script>


<script type="text/javascript" src="helpman_settings.js"></script>
<script type="text/javascript" src="helpman_topicinit.js"></script>
<script type="text/javascript" src="hmtopic.js"></script>

   <script type="text/javascript">
     HMSyncTOC("index.html", "nfs.html");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
<body>
<!-- Help & Manual Premium Pack templates by Tim Green, Copyright (c) 2011-2014, All Rights Reserved -->
<!--ZOOMSTOP-->



<ul id="topictabs" class="tabs">
<li id="indextab" class="hmtabs"><a href="#" id="indextablink" class="current"><span>NFS</span></a></li>
</ul>
<div id="hmbox">
<div id="hmheader">
<div id="hmheadercontents">
<p id="breadcrumbs" class="sync-toc">
<b><span class="sync-toc"><a rel="nofollow" class="sync-toc-link" href="index.html?nfs.html" target="_top">&lt;&lt;&nbsp;Click here for table of contents&nbsp;&gt;&gt;</a>&nbsp;&nbsp;</span></b></p> 
<h1 class="p_Heading1"><span class="f_Heading1">NFS</span></h1>

</div>
<div id="atocIcon" class="navdivs">
<img class="navicon" id="hmAtocLink" src="contents_off.png" alt="No topiv headers on this site" title="No topiv headers on this site" />
<br /><span>Topic content</span>
</div>
</div>
<div id="autoTocWrapper" class="topicmenu"></div>
<div id="idcontent">
<div id="unclicker"></div>
<!--ZOOMRESTART-->
<h2 class="p_Heading2"><span class="f_Heading2">Preparing NFS access on Linux</span></h2>
<p class="p_Normal">If you want to export for example the directory /opt/test per NFS to any other computer you must execute the following command:</p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp; &nbsp;exportfs -o rw,insecure *:/opt/test</span><br />
<span class="f_CodeExample">&nbsp;</span></p>
<p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_BulletedListNormal">the option </span><span class="f_Bulletedtopiclist">rw</span><span class="f_BulletedListNormal"> denotes read/write access to the directory</span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_BulletedListNormal">the option </span><span class="f_Bulletedtopiclist">insecure</span><span class="f_BulletedListNormal"> is necessary to admit access to ports higher than 1024; if this option is not set, you will see the following messages in the log files ont the NFS server:</span><br />
<span class="f_CodeExample">Apr &nbsp;7 13:33:26 akn-laptop mountd[1161]: bad path in mount request from 192.168.2.89: &quot;opt/test&quot;</span><br />
<span class="f_CodeExample">Apr &nbsp;7 13:33:26 akn-laptop mountd[1161]: refused mount request from 192.168.2.89 for /opt/test (/opt/test): illegal port 35169</span></p><p class="p_Normal">&nbsp;</p>
<p class="p_Normal">To find out the UID and GID of the user for login you may execute the following command:<br />
<span class="f_CodeExample">$ cat /etc/passwd</span></p>
<p class="p_Normal"><span class="f_CodeExample">root:x:0:0:root:/root:/bin/bash</span></p>
<p class="p_Normal"><span class="f_CodeExample">akn:x:1000:1000:akn,,,:/home/akn:/bin/bash</span></p>
<h2 class="p_Heading2"><span class="f_Heading2">Settings in the Orchestra Designer</span></h2>
<p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 20px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Calibri';color:#000000;display:inline-block;width:20px;margin-left:-20px">1.</span><span class="f_BulletedListNormal">Set the path to the remote directory in the environment entry. This could e.g. look like: </span><br />
<span class="f_CodeExample">//192.168.2.169//opt/test </span><br />
<span class="f_BulletedListNormal">or: </span><br />
<span class="f_CodeExample">//192.168.2.169:/opt/test </span><br />
<span class="f_BulletedListNormal">or: </span><br />
<span class="f_CodeExample">nfs://192.168.2.169:/opt/test </span><br />
<span class="f_Notes">Note: The prefix nfs: is added from Orchestra automatically!</span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 20px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Calibri';color:#000000;display:inline-block;width:20px;margin-left:-20px">2.</span><span class="f_BulletedListNormal">In the scenario element tree in the group </span><span class="f_Emphasize">Security</span><span class="f_BulletedListNormal"> add a new </span><span class="f_buttonslabelsetc">Credential</span><span class="f_BulletedListNormal"> where the name must consist from UID and GID, e.g.: </span><span class="f_buttonslabelsetc">1000:1000</span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 20px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Calibri';color:#000000;display:inline-block;width:20px;margin-left:-20px">3.</span><span class="f_BulletedListNormal">Then add username and password in the tab </span><span class="f_buttonslabelsetc">Authentication</span><span class="f_BulletedListNormal"> of the Credential. As username again set </span><span class="f_Emphasize">UID:GID</span><span class="f_BulletedListNormal">.</span><br />
<span class="f_Notes">Caveat: Currently due to a bug, the name of the credential is used as the username by Orchestra. If the bug eventually is solved, is will be sufficient if the username defined for the Password authentication matches the given pattern.</span></p><h2 class="p_Heading2"><span class="f_Heading2">Additional Information</span></h2>
<p class="p_Normal" style="line-height: 1.20;"><span class="f_Subheading">About possible URLs:</span><br />
<span class="f_Subheading">&nbsp;</span><br />
<span class="f_CodeExample"> * This URL parser also handles undocumented</span><br />
<span class="f_CodeExample"> * testing options inserted in the URL in the</span><br />
<span class="f_CodeExample"> * port field. &nbsp;The following sequence of option</span><br />
<span class="f_CodeExample"> * letters may appear before or after the port</span><br />
<span class="f_CodeExample"> * number, or alone if the port number is not</span><br />
<span class="f_CodeExample"> * given.</span><br />
<span class="f_CodeExample"> * &nbsp; &nbsp; &nbsp; &nbsp; vn &nbsp; &nbsp;- NFS version, e.g. &quot;v3&quot;</span><br />
<span class="f_CodeExample"> * &nbsp; &nbsp; &nbsp; &nbsp; u &nbsp; &nbsp;- Force UDP - normally TCP is preferred</span><br />
<span class="f_CodeExample"> * &nbsp; &nbsp; &nbsp; &nbsp; t &nbsp; &nbsp;- Force TDP - don't fall back to UDP</span><br />
<span class="f_CodeExample"> * &nbsp; &nbsp; &nbsp; &nbsp; m &nbsp; &nbsp;- Force Mount protocol. &nbsp;Normally public filehandle is preferred</span><br />
<span class="f_CodeExample"> *</span><br />
<span class="f_CodeExample"> * Option ordering is not important.</span><br />
<span class="f_CodeExample"> *</span><br />
<span class="f_CodeExample"> * Example:</span><br />
<span class="f_CodeExample"> * &nbsp; &nbsp; &nbsp; &nbsp; nfs://server:123v2um/path</span><br />
<span class="f_CodeExample"> *</span><br />
<span class="f_CodeExample"> * &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Use port 123 with NFS v2 over UDP and Mount protocol</span><br />
<span class="f_CodeExample"> *</span><br />
<span class="f_CodeExample"> * &nbsp; &nbsp; &nbsp; &nbsp; nfs://server:m/path</span><br />
<span class="f_CodeExample"> *</span><br />
<span class="f_CodeExample"> * &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Use default port, prefer V3/TCP but use Mount protocol</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">&nbsp;</span></p>
<p class="p_Subheading"><span class="f_Subheading">Port Problems while accessing the directory through NFS (because of insecure)</span></p>
<p class="p_Normal" style="margin: 0px 0px 0px 23px;">If you have problems with the port, e.g. if the option insecure was not set on server side, you will find the following error message in the log file:<br />
<span class="f_CodeExample">7.04/14:16:11.414 &nbsp; &nbsp; &nbsp; SEVERE &nbsp; &nbsp; &nbsp; &nbsp; [10] &nbsp; &nbsp; &nbsp; oundAdapterTestPanel.setupTest: Error in channel test</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid; margin: 0px 0px 0px 23px;"><span class="f_CodeExample">emds.epi.decl.exceptions.TechnicalException: Directory nfs://192.168.2.169//opt/test doesn't exist</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid; margin: 0px 0px 0px 23px;"><span class="f_CodeExample"> &nbsp; &nbsp;at emds.epi.impl.adapter.file.AbstractFileListener.checkInputDirectory(AbstractFileListener.java:336)</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid; margin: 0px 0px 0px 23px;"><span class="f_CodeExample"> &nbsp; &nbsp;at emds.epi.impl.adapter.file.AbstractFileListener.start(AbstractFileListener.java:755)</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid; margin: 0px 0px 0px 23px;"><span class="f_CodeExample"> &nbsp; &nbsp;at emds.util.swing.InboundAdapterTestPanel.setupTest(InboundAdapterTestPanel.java:97)</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid; margin: 0px 0px 0px 23px;"><span class="f_CodeExample"> &nbsp; &nbsp;at emds.epi.graph.EPIFrame.testAdapter(EPIFrame.java:1632)</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid; margin: 0px 0px 0px 23px;"><span class="f_CodeExample">...</span></p>
<p class="p_Subheading"><span class="f_Subheading">Access without authentication</span></p>
<p class="p_Normal">If you have problems with authentication the directory is visible but renaming the file causes errors:</p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid; margin: 0px 0px 0px 13px;"><span class="f_CodeExample">07.04/15:40:04.519 &nbsp; &nbsp; &nbsp; FINE &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [19] &nbsp; &nbsp; &nbsp; .simpl.SimpleJobFactory.newJob: Producing instance of Job 'FILE_POLLING__1396877983086_22_ORC.FILE_POLLING__1396877983086_22_ORC', class=emds.epi.impl.timer.QuartzDelegationJobVolatile</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid; margin: 0px 0px 0px 13px;"><span class="f_CodeExample">07.04/15:40:04.520 &nbsp; &nbsp; &nbsp; FINE &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [14] &nbsp; &nbsp; &nbsp; rg.quartz.core.JobRunShell.run: Calling execute on job FILE_POLLING__1396877983086_22_ORC.FILE_POLLING__1396877983086_22_ORC</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid; margin: 0px 0px 0px 13px;"><span class="f_CodeExample">07.04/15:40:04.520 &nbsp; &nbsp; &nbsp; INFO &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [14] &nbsp; &nbsp; &nbsp; legationJobBase.safeExecuteJob: Timer job FILE_POLLING__1396877983086_22_ORC: start</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid; margin: 0px 0px 0px 13px;"><span class="f_CodeExample">07.04/15:40:04.523 &nbsp; &nbsp; &nbsp; INFO &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [14] &nbsp; &nbsp; &nbsp; leListener.checkInputDirectory: Scanning directory: nfs://192.168.2.169//opt/test</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid; margin: 0px 0px 0px 13px;"><span class="f_CodeExample">07.04/15:40:04.524 &nbsp; &nbsp; &nbsp; INFO &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [14] &nbsp; &nbsp; &nbsp; Listener.observeInputDirectory: Reading file: nfs://192.168.2.169//opt/test/MDM.hl7</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid; margin: 0px 0px 0px 13px;"><span class="f_CodeExample">07.04/15:40:04.528 &nbsp; &nbsp; &nbsp; FINE &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [14] &nbsp; &nbsp; &nbsp; Listener.observeInputDirectory: QOS: VOLATILE</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid; margin: 0px 0px 0px 13px;"><span class="f_CodeExample">07.04/15:40:04.529 &nbsp; &nbsp; &nbsp; FINE &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [14] &nbsp; &nbsp; &nbsp; adapter.file.FileLocker.rename: couldn't rename file to: MDM.hl7.wrk</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid; margin: 0px 0px 0px 13px;"><span class="f_CodeExample">07.04/15:40:04.534 &nbsp; &nbsp; &nbsp; FINE &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [14] &nbsp; &nbsp; &nbsp; ileLocker.tryLockedInputStream: file MDM.hl7 is in use</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid; margin: 0px 0px 0px 13px;"><span class="f_CodeExample">07.04/15:40:04.635 &nbsp; &nbsp; &nbsp; FINE &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [14] &nbsp; &nbsp; &nbsp; adapter.file.FileLocker.rename: couldn't rename file to: MDM.hl7.wrk</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid; margin: 0px 0px 0px 13px;"><span class="f_CodeExample">07.04/15:40:04.636 &nbsp; &nbsp; &nbsp; FINE &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [14] &nbsp; &nbsp; &nbsp; ileLocker.tryLockedInputStream: file MDM.hl7 is in use</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid; margin: 0px 0px 0px 13px;"><span class="f_CodeExample">07.04/15:40:04.838 &nbsp; &nbsp; &nbsp; FINE &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [14] &nbsp; &nbsp; &nbsp; adapter.file.FileLocker.rename: couldn't rename file to: MDM.hl7.wrk</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid; margin: 0px 0px 0px 13px;"><span class="f_CodeExample">07.04/15:40:04.838 &nbsp; &nbsp; &nbsp; FINE &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [14] &nbsp; &nbsp; &nbsp; ileLocker.tryLockedInputStream: file MDM.hl7 is in use</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid; margin: 0px 0px 0px 13px;"><span class="f_CodeExample">07.04/15:40:05.248 &nbsp; &nbsp; &nbsp; FINE &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [14] &nbsp; &nbsp; &nbsp; adapter.file.FileLocker.rename: couldn't rename file to: MDM.hl7.wrk</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid; margin: 0px 0px 0px 13px;"><span class="f_CodeExample">07.04/15:40:05.248 &nbsp; &nbsp; &nbsp; FINE &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [14] &nbsp; &nbsp; &nbsp; ileLocker.tryLockedInputStream: file MDM.hl7 is in use</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid; margin: 0px 0px 0px 13px;"><span class="f_CodeExample">07.04/15:40:06.057 &nbsp; &nbsp; &nbsp; INFO &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [14] &nbsp; &nbsp; &nbsp; legationJobBase.safeExecuteJob: Timer job FILE_POLLING__1396877983086_22_ORC: end</span></p>
<p class="p_Subheading"><span class="f_Subheading">On Linux every access is recorded</span></p>
<p class="p_Normal">In the syslog file on Linux you may find helpful information auf the authentication:</p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid; margin: 0px 0px 0px 13px;"><span class="f_CodeExample">Apr &nbsp;7 14:56:27 akn-laptop mountd[1161]: authenticated mount request from 192.168.2.89:944 for /opt/test (/opt/test)</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid; margin: 0px 0px 0px 13px;"><span class="f_CodeExample">Apr &nbsp;7 14:57:09 akn-laptop mountd[1161]: authenticated unmount request from 192.168.2.89:692 for /opt/test (/opt/test)</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid; margin: 0px 0px 0px 13px;"><span class="f_CodeExample">Apr &nbsp;7 14:57:21 akn-laptop mountd[1161]: authenticated unmount request from 192.168.2.89:735 for /opt/test (/opt/test)</span></p>
<p class="p_Normal" style="margin: 0px 0px 0px 13px;">&nbsp;</p>

<!--ZOOMSTOP-->


</div> <!-- idcontent -->
</div><!-- hmbox --> 
</body>
</html>
