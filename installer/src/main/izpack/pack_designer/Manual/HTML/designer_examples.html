<!DOCTYPE html>
<html>
<head>
   <title>Examples</title>
   <meta http-equiv="X-UA-Compatible" content="IE=edge" />
   <meta name="viewport" content="width=device-width, user-scalable=yes, initial-scale=1, minimum-scale=1" />
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="" />
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
   <meta http-equiv="content-language" content="en-us" />
   <meta name="description" content="Easy A parser description is a scenario element that describes a character stream. &nbsp; For example, the input is the following: Hans/Maier/Augsburg &nbsp;Willi/Winkler/München &nbsp;Gerd" />
   <meta http-equiv="Content-Style-Type" content="text/css" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <link id="tabscheme" type="text/css" href="hm_topic.css" rel="stylesheet" />   
<style type="text/css">
/* No header topics */

/* Breadcrumb trail */
p#breadcrumbs {
font-family: Verdana, Tahoma, Helvetica, Sans-Serif;   padding: 2px 0 1px 2px;
   margin: 0;
   font-size: 8pt; 
   color: #999;
   }   
p#breadcrumbs a { color: #999; text-decoration: none;}
p#breadcrumbs a:visited {color: #999;}
p#breadcrumbs a:hover { color: #333; border-bottom: 1px dotted #333; }

/* Search hightlight color */
span.highlight {background-color: #ffff40;}
</style>
<script type="text/javascript">
var hmHeaderTopic = true;

</script> 
<!--[if IE 9]>
<link id="iesvgcss" rel="stylesheet" type="text/css" href="hm_webhelp_svg.css" />
<![endif]-->	
<script src="jquery.js"></script>
<script type="text/javascript" src="jquery.tools.min.js"></script>
<script type="text/javascript" src="jquery.scrollTo-min.js"></script>
<script type="text/javascript"> 
// General topic variables
var tVars = {
   hmHelpPage: "index.html",
   nextP: "external-archives.html",
   prevP: "designer_parser-language.html",
   currP: "designer_examples.html",
   descr: "Easy A parser description is a scenario element that describes a character stream. &nbsp; For example, the input is the following: Hans/Maier/Augsburg &nbsp;Willi/Winkler/München &nbsp;Gerd",
   keys: "",
   defP: "parser-descriptions.html",
   mailUrl: "",
   mailUrlQuery: "",
   projectTitle: "Documentation",
   titleP: "Examples",
   mailsubject: "Your feedback: Documentation - Examples",
   sharesubject: "Documentation - Examples",
   simplesubject: "Documentation%20Feedback",
   mailid: "designer_Examples",
   mailpath: "Orchestra Documentation &gt; Reference Manual &gt; Designer Reference &gt; Scenario Elements &gt; Parser descriptions &gt; Examples /",
   mailbody: "",
   fbtype: false,
   header: true,
   background: "spacer.gif",
   tablesReady: false,
   togglesReady: false,
   webRedirect: true,
   topicTitleBar: true,
   titleBarContent: "topic",
   printFooter: true,
   zoomTip: "Click here to view image in its original size",
   autoPrint: true,
   printButton: "Print",
   printButtonTip: "Print topic"
   }
// Popup configuration
 var hmpBShadow = true;
 var hmPopSmallDim = 500;
 var hmPopKillVideo = true;
 // AutoTOC variables
 var hmatocvars = {
   atoc_show: true,
   atoc_title: "Topic content",
   atoc_tip: "Navigate to:&nbsp;",
   atoc_minHeaders: 3,
   atoc_btntip_off: "No topiv headers on this site",
   atoc_btntip_on: "Show/hide topic menu",
   atoc_toptip: "Navigate to beginning of page",
   atoc_top: "Beginning of page",
   atoc_bg: "#f6f6f6",
   atoc_border: "silver",
   atoc_linkcolor: "#444",
   atoc_linklimit: 45,
   atoc_hovercolor: "#000",
   atoc_hoverbgcolor: "#e0e0e0"
}
// Sortable tables
var sortVars = {
   europeandate: false,
   germanNumbers: false,
   imagePath: "",
   image_up: "arrow-up.gif",
   image_down: "arrow-down.gif",
   image_empty: "arrow-empty.gif",
   image_none: "arrow-none.gif",
   sort_tip: "Click here to sort column",
   umlauts: "false"
   }

</script>


<script type="text/javascript" src="helpman_settings.js"></script>
<script type="text/javascript" src="helpman_topicinit.js"></script>
<script type="text/javascript" src="hmtopic.js"></script>

   <script type="text/javascript">
     HMSyncTOC("index.html", "designer_examples.html");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
<body>
<!-- Help & Manual Premium Pack templates by Tim Green, Copyright (c) 2011-2014, All Rights Reserved -->
<!--ZOOMSTOP-->



<ul id="topictabs" class="tabs">
<li id="indextab" class="hmtabs"><a href="#" id="indextablink" class="current"><span>Examples</span></a></li>
</ul>
<div id="hmbox">
<div id="hmheader">
<div id="hmheadercontents">
<p id="breadcrumbs" class="sync-toc">
<b><span class="sync-toc"><a rel="nofollow" class="sync-toc-link" href="index.html?designer_examples.html" target="_top">&lt;&lt;&nbsp;Click here for table of contents&nbsp;&gt;&gt;</a>&nbsp;&nbsp;</span></b></p> 
<h1 class="p_Heading1"><span class="f_Heading1">Examples</span></h1>

</div>
<div id="atocIcon" class="navdivs">
<img class="navicon" id="hmAtocLink" src="contents_off.png" alt="No topiv headers on this site" title="No topiv headers on this site" />
<br /><span>Topic content</span>
</div>
</div>
<div id="autoTocWrapper" class="topicmenu"></div>
<div id="idcontent">
<div id="unclicker"></div>
<!--ZOOMRESTART-->
<h2 class="p_Heading2"><span class="f_Heading2">Easy</span></h2>
<p class="p_Normal">A parser description is a scenario element that describes a character stream. </p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">For example, the input is the following:</p>
<div style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 10px;"><table style="border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:187px; background-color:#a4bddd; padding:2px; border-color:#cdd7e4 #365f91 #365f91 #cdd7e4; border-style:solid; border-width:thin;"><p class="p_Normal">Hans/Maier/Augsburg </p>
<p class="p_Normal">Willi/Winkler/München </p>
<p class="p_Normal">Gerda/Bauer/Stuttgart </p>
</td>
</tr>
</table>
</div>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">So it is needed to create the following parser description: </p>
<p class="p_Normal"><img alt="parser_description_example" width="331" height="154" style="margin:0;width:331px;height:154px;border:none" src="parser_description_example.png"/></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">To test the program, click on the testbutton ( lightning symbol) and copy the input example in the left field. </p>
<div style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 10px;"><table class="warningattentioninfo table" style="border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:37px; padding:0px;"><p class="p_Normal"><img alt="alert-notice-ico" width="24" height="24" style="margin:0;width:24px;height:24px;border:none" src="alert-notice-ico.png"/></p>
</td>
<td style="vertical-align:top; width:1131px; padding:0px;"><p class="p_notice"><span class="f_notice">There must be a return after the last line.</span></p>
</td>
</tr>
</table>
</div>
<p class="p_notice"><span class="f_notice">&nbsp;</span></p>
<p class="p_notice"><span class="f_notice">&nbsp;</span></p>
<p class="p_Normal">After clicking on parse, a evidence is displayed below. If the evidence is &quot;input txt matched: context at line4, column 0&quot; the parsing worked. If the evidence is &quot;parse failed&quot;, there must be an error in your example data. Please check that there is only one return after the last line. &nbsp;</p>
<p class="p_Normal">After parsing the text correctly, the right side of the testpanel is empty. To change that, a change in the parser description is needed. </p>
<p class="p_Normal">To give out the incoming data, you need to change the description as shown below:</p>
<p class="p_Normal"><img alt="parser_description_example_extended" width="331" height="242" style="margin:0;width:331px;height:242px;border:none" src="parser_description_example_extended.png"/></p>
<p class="p_Normal">If the text is parsed now, the following will be shown:</p>
<p class="p_Normal"><img alt="parser_output#" width="784" height="508" style="margin:0;width:784px;height:508px;border:none" src="parser_output#.png"/></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">&quot;addElement!&quot; is used to insert the variables in a XML tree.</p>
<p class="p_Normal">&nbsp;</p>
<div style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 10px;"><table class="warningattentioninfo table" style="border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:37px; padding:0px;"><p class="p_Normal"><img alt="alert-notice-ico" width="24" height="24" style="margin:0;width:24px;height:24px;border:none" src="alert-notice-ico.png"/></p>
</td>
<td style="vertical-align:top; width:1131px; padding:0px;"><p class="p_notice"><span class="f_notice">Please note: variable names always begin with a capital letter, while the names of <a href="process_monitoring.html" class="topiclink">procedures, functions and definitions</a> begin with lowercase.</span></p>
</td>
</tr>
</table>
</div>
<p class="p_notice"><span class="f_notice">&nbsp;</span></p>
<p class="p_notice"><span class="f_notice">&nbsp;</span></p>
<p class="p_Normal">If the &quot;endOfFile&quot; is deleted, the following will happen: </p>
<p class="p_Normal"><img alt="parser_description_without_end" width="783" height="508" style="margin:0;width:783px;height:508px;border:none" src="parser_description_without_end.png"/></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">It can be seen that there is no error message, but the right side is empty. The evidence shows, that the parser did not read anything. This happens because the loop is passed through zero times. If &quot;endOfFile&quot; is added to the coding, the condition can only be fulfilled, if every line is read in. </p>
<p class="p_Normal">&nbsp;</p>
<div style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 10px;"><table class="warningattentioninfo table" style="border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:37px; padding:0px;"><p class="p_Normal"><img alt="alert-info-ico" width="24" height="24" style="margin:0;width:24px;height:24px;border:none" src="alert-info-ico.png"/></p>
</td>
<td style="vertical-align:top; width:1131px; padding:0px;"><p class="p_Info"><span class="f_Info">Instead of &quot;repeat&quot;, it is also possible to use &quot;repeat greedy&quot; and leave &quot;endOfFile&quot; out. This will lead the parser to read every line that is possible. If there are lines after the text, that don't fit the description, there will be no error. &quot;Repeat greedy&quot; does not need an &quot;endOfFile&quot;. It will just stop if a line does not fit in the description. </span></p>
</td>
</tr>
</table>
</div>
<p class="p_Info"><span class="f_Info">&nbsp;</span></p>
<p class="p_Normal">But the used code is not distinct. If the addresses for example are left out in the example text, the following will happen:<img alt="parser_description_example_no_address" width="787" height="513" style="margin:0;width:787px;height:513px;border:none" src="parser_description_example_no_address.png"/></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">To prevent this from happening, the coding must be changed like below: </p>
<p class="p_Normal"><img alt="parser_description_example_extended2" width="390" height="312" style="margin:0;width:390px;height:312px;border:none" src="parser_description_example_extended2.png"/></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">We declare that the class text contains every character, except of return and slash. The function &quot;readUntil&quot; reads in the characters, until the declared field delimiter appears. The text is returned without the field delimiter. </p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">In the coding below, the function &quot;readString&quot; is also used. This function does not need a field delimiter, but works similar to &quot;readUntil&quot;. The function is for example useful, if return is used as field delimiter. &quot;newLine&quot; can be used with Windows and Linux, because return has different values in both operating systems. If you want to use &quot;readUntil&quot; you need to add &quot;\r\n&quot; as field delimiter. </p>
<div style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 10px;"><table class="warningattentioninfo table" style="border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:37px; padding:0px;"><p class="p_Normal"><img alt="alert-info-ico" width="24" height="24" style="margin:0;width:24px;height:24px;border:none" src="alert-info-ico.png"/></p>
</td>
<td style="vertical-align:top; width:1131px; padding:0px;"><p class="p_Info"><span class="f_ImageCaption">&quot;</span><span class="f_Info">ReadUntil&quot; and &quot;readString&quot; are functions, because they have return values. &quot;Read&quot;, which was used in the first example is no function because it has no return value. </span></p>
</td>
</tr>
</table>
</div>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">The example above has another peculiarity. The invocation of &quot;cut&quot;. &quot;Cut&quot; cuts the input so the parser cannot go back and there is no need to hold the whole data in the memory. This saves resources. </p>
<p class="p_Normal">&nbsp;</p>
<div style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 10px;"><table class="warningattentioninfo table" style="border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:37px; padding:0px;"><p class="p_Normal"><img alt="alert-info-ico" width="24" height="24" style="margin:0;width:24px;height:24px;border:none" src="alert-info-ico.png"/></p>
</td>
<td style="vertical-align:top; width:1131px; padding:0px;"><p class="p_Info"><span class="f_Info">The real meaning of cut can only be understood, if more possibilities of the parser language are used (more is explained in the second example). The parser language resembles the parser language prolog and uses backtracking to match the input with a model. Cut has the same meaning as a Prolog goal.</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Info"><span class="f_Info">&nbsp;</span></p>
<p class="p_Subheading"><span class="f_Subheading">Complex</span></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">The example input of the second example is a property file. For example this can be used: </p>
<div style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 10px;"><table style="border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; background-color:#a4bddd; padding:2px; border-color:#cdd7e4 #365f91 #365f91 #cdd7e4; border-style:solid; border-width:thin;"><p class="p_Normal">############################################################ </p>
<p class="p_Normal"># Global properties </p>
<p class="p_Normal">############################################################ </p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal"># &quot;handlers&quot; specifies a comma separated list of log Handler </p>
<p class="p_Normal"># classes. These handlers will be installed during VM startup. </p>
<p class="p_Normal"># Note that these classes must be on the system classpath. </p>
<p class="p_Normal"># By default we only configure a ConsoleHandler, which will only </p>
<p class="p_Normal"># show messages at the INFO and above levels. </p>
<p class="p_Normal"># handlers= java.util.logging.ConsoleHandler </p>
<p class="p_Normal"># handlers= java.util.logging.FileHandler </p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">handlers=java.util.logging.FileHandler </p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">java.util.logging.FileHandler.pattern = C:/temp/Orchestra/log/Orchestra%g.log </p>
<p class="p_Normal">java.util.logging.FileHandler.limit = 50000 </p>
<p class="p_Normal">java.util.logging.FileHandler.count = 2 </p>
<p class="p_Normal">java.util.logging.FileHandler.formatter = java.util.logging.SimpleFormatter </p>
<p class="p_Normal"># Default global logging level. </p>
<p class="p_Normal"># This specifies which kinds of events are logged across </p>
<p class="p_Normal"># all loggers. For any given facility this global level </p>
<p class="p_Normal"># can be overriden by a facility specific level </p>
<p class="p_Normal"># Note that the ConsoleHandler also has a separate level </p>
<p class="p_Normal"># setting to limit messages printed to the console. </p>
<p class="p_Normal">.level= INFO </p>
</td>
</tr>
</table>
</div>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">The input consists of many lines. Each of the line can be categorized in one of the following models:</p>
<p class="p_Normal">&nbsp;</p>
<p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span>blank lines, that consist of nothing but blanks</p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span>comments, that start with a #</p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span>key value pairs</p><p class="p_Normal">&nbsp;</p>
<p class="p_Normal">So the parser description could look like this: </p>
<div style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 10px;"><table style="border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; background-color:#a4bddd; padding:2px; border-color:#cdd7e4 #365f91 #365f91 #cdd7e4; border-style:solid; border-width:thin;"><p class="p_Normal">character class linetext: not [\r\n] </p>
<p class="p_Normal">character class name: [A-Za-z_0-9.] </p>
<p class="p_Normal">character class blanks: [ \t] </p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">define propertyfile: </p>
<p class="p_Normal">repeat greedy: </p>
<p class="p_Normal">line </p>
<p class="p_Normal">end </p>
<p class="p_Normal">end </p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">define line: </p>
<p class="p_Normal">&quot;#&quot;, linetext*, newLine </p>
<p class="p_Normal">end </p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">define line: </p>
<p class="p_Normal">blanks*, newLine </p>
<p class="p_Normal">end </p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">define line: </p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">blanks*, </p>
<p class="p_Normal">Key = readString(name), </p>
<p class="p_Normal">blanks*, &quot;=&quot;, blanks*, </p>
<p class="p_Normal">Value, blanks*, newLine </p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">cut, </p>
<p class="p_Normal">openElement! (&quot;Record&quot;), </p>
<p class="p_Normal">addElement!(&quot;key&quot;, Key), </p>
<p class="p_Normal">addElement!(&quot;value&quot;, Value), </p>
<p class="p_Normal">closeElement! </p>
<p class="p_Normal">end </p>
</td>
</tr>
</table>
</div>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">In contrast to the first example, this parser description has more definitions. Which definition is used for the whole input is declared in the configuration of the deserialiser. Per default it is the first definition of the text (e.g. here: &quot;propertyfile&quot;). </p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">It can also be seen that line is defined three times. In the terminology of parser languages, this is called a goal.</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">The first definition tries to fulfill the goal &quot;line&quot; as often as possible. To fulfill the goal, the parser tries every definition of line sequentially. It begins with checking if the line has a hashtag in the front, if it does, the first description is fulfilled. If not, it checks if the line only consists of blanks and tabs. If either of them is fulfilled, it will check if the line is a key value pair. </p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">The line &quot;Value, blanks*, newLine&quot; needs to be explained. The line can also be written as &quot;Value = readString(linetext), newLine&quot;. If this would be done, the result would also contain of all spaces that are behind the letters. The class &quot;linetext&quot; also accepts spaces. If the first expression is used, this does not happen, in the first case, this can also be written as <span style="font-weight: bold;">read(Value), readString(blanks), newLine</span><span style="font-family: Arial,Helvetica,sans-serif; font-style: italic;"> </span>, read(Value) will be tried as often, as the conditions behind are not fulfilled( till the end of the line, it only consists of spaces and the return). In this case, all spaces behind the text will not be read in. </p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">The crucial difference between goals and functions is, that a goal can be tried many times,if all following goals cannot be fulfilled. ( This is called backtracking)</p>
<p class="p_Normal">&nbsp;</p>
<div style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 10px;"><table class="warningattentioninfo table" style="border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:37px; padding:0px;"><p class="p_Normal"><img alt="alert-notice-ico" width="24" height="24" style="margin:0;width:24px;height:24px;border:none" src="alert-notice-ico.png"/></p>
</td>
<td style="vertical-align:top; width:1131px; padding:0px;"><p class="p_notice"><span class="f_notice">The use of functions is not as elegant as using goals, but it is more efficient.</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">If functions are used instead of goals in the example, the function &quot;trim&quot; can be used to trim all spaces from the text. <span style="font-style: italic; font-weight: bold;">Value = trim(readString(linetext)), newLine </span>would be the right way to use trim in this example. </p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">&nbsp;</p>

<!--ZOOMSTOP-->


</div> <!-- idcontent -->
</div><!-- hmbox --> 
</body>
</html>
