<!DOCTYPE html>
<html>
<head>
   <title>Tomcat</title>
   <meta http-equiv="X-UA-Compatible" content="IE=edge" />
   <meta name="viewport" content="width=device-width, user-scalable=yes, initial-scale=1, minimum-scale=1" />
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="" />
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
   <meta http-equiv="content-language" content="en-us" />
   <meta name="description" content="In order to use Orchestra you have to install Apache Tomcat on your system. In this version we recommend Apache Tomcat 8.&nbsp;" />
   <meta http-equiv="Content-Style-Type" content="text/css" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <link id="tabscheme" type="text/css" href="hm_topic.css" rel="stylesheet" />   
<style type="text/css">
/* No header topics */

/* Breadcrumb trail */
p#breadcrumbs {
font-family: Verdana, Tahoma, Helvetica, Sans-Serif;   padding: 2px 0 1px 2px;
   margin: 0;
   font-size: 8pt; 
   color: #999;
   }   
p#breadcrumbs a { color: #999; text-decoration: none;}
p#breadcrumbs a:visited {color: #999;}
p#breadcrumbs a:hover { color: #333; border-bottom: 1px dotted #333; }

/* Search hightlight color */
span.highlight {background-color: #ffff40;}
</style>
<script type="text/javascript">
var hmHeaderTopic = true;

</script> 
<!--[if IE 9]>
<link id="iesvgcss" rel="stylesheet" type="text/css" href="hm_webhelp_svg.css" />
<![endif]-->	
<script src="jquery.js"></script>
<script type="text/javascript" src="jquery.tools.min.js"></script>
<script type="text/javascript" src="jquery.scrollTo-min.js"></script>
<script type="text/javascript"> 
// General topic variables
var tVars = {
   hmHelpPage: "index.html",
   nextP: "installation_orchestra-server_linux.html",
   prevP: "installation_java_linux.html",
   currP: "installation_tomcat_linux.html",
   descr: "In order to use Orchestra you have to install Apache Tomcat on your system. In this version we recommend Apache Tomcat 8.&nbsp;",
   keys: "",
   defP: "installation_linux.html",
   mailUrl: "",
   mailUrlQuery: "",
   projectTitle: "Documentation",
   titleP: "Tomcat",
   mailsubject: "Your feedback: Documentation - Tomcat",
   sharesubject: "Documentation - Tomcat",
   simplesubject: "Documentation%20Feedback",
   mailid: "installation_Tomcat_linux",
   mailpath: "Orchestra Documentation &gt; Installation &gt; Installation Linux &gt; Tomcat /",
   mailbody: "",
   fbtype: false,
   header: true,
   background: "spacer.gif",
   tablesReady: false,
   togglesReady: false,
   webRedirect: true,
   topicTitleBar: true,
   titleBarContent: "topic",
   printFooter: true,
   zoomTip: "Click here to view image in its original size",
   autoPrint: true,
   printButton: "Print",
   printButtonTip: "Print topic"
   }
// Popup configuration
 var hmpBShadow = true;
 var hmPopSmallDim = 500;
 var hmPopKillVideo = true;
 // AutoTOC variables
 var hmatocvars = {
   atoc_show: true,
   atoc_title: "Topic content",
   atoc_tip: "Navigate to:&nbsp;",
   atoc_minHeaders: 3,
   atoc_btntip_off: "No topiv headers on this site",
   atoc_btntip_on: "Show/hide topic menu",
   atoc_toptip: "Navigate to beginning of page",
   atoc_top: "Beginning of page",
   atoc_bg: "#f6f6f6",
   atoc_border: "silver",
   atoc_linkcolor: "#444",
   atoc_linklimit: 45,
   atoc_hovercolor: "#000",
   atoc_hoverbgcolor: "#e0e0e0"
}
// Sortable tables
var sortVars = {
   europeandate: false,
   germanNumbers: false,
   imagePath: "",
   image_up: "arrow-up.gif",
   image_down: "arrow-down.gif",
   image_empty: "arrow-empty.gif",
   image_none: "arrow-none.gif",
   sort_tip: "Click here to sort column",
   umlauts: "false"
   }

</script>


<script type="text/javascript" src="helpman_settings.js"></script>
<script type="text/javascript" src="helpman_topicinit.js"></script>
<script type="text/javascript" src="hmtopic.js"></script>

   <script type="text/javascript">
     HMSyncTOC("index.html", "installation_tomcat_linux.html");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
<body>
<!-- Help & Manual Premium Pack templates by Tim Green, Copyright (c) 2011-2014, All Rights Reserved -->
<!--ZOOMSTOP-->



<ul id="topictabs" class="tabs">
<li id="indextab" class="hmtabs"><a href="#" id="indextablink" class="current"><span>Tomcat</span></a></li>
</ul>
<div id="hmbox">
<div id="hmheader">
<div id="hmheadercontents">
<p id="breadcrumbs" class="sync-toc">
<b><span class="sync-toc"><a rel="nofollow" class="sync-toc-link" href="index.html?installation_tomcat_linux.html" target="_top">&lt;&lt;&nbsp;Click here for table of contents&nbsp;&gt;&gt;</a>&nbsp;&nbsp;</span></b></p> 
<h1 class="p_Heading1"><span class="f_Heading1">Tomcat</span></h1>

</div>
<div id="atocIcon" class="navdivs">
<img class="navicon" id="hmAtocLink" src="contents_off.png" alt="No topiv headers on this site" title="No topiv headers on this site" />
<br /><span>Topic content</span>
</div>
</div>
<div id="autoTocWrapper" class="topicmenu"></div>
<div id="idcontent">
<div id="unclicker"></div>
<!--ZOOMRESTART-->
<p class="p_Normal">In order to use Orchestra you have to install Apache Tomcat on your system. In this version we recommend Apache Tomcat 8. </p>
<p class="p_Normal">&nbsp;</p>
<div style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 10px;"><table class="warningattentioninfo table" style="border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:37px; padding:0px;"><p class="p_Normal"><img alt="alert-notice-ico" width="24" height="24" style="margin:0;width:24px;height:24px;border:none" src="alert-notice-ico.png"/></p>
</td>
<td style="vertical-align:top; width:1131px; padding:0px;"><p class="p_notice"><span class="f_notice">Please Change the standard password of the tomcat administrator to an individual password given by your own. This is essential to prevent security attacks.</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:37px; padding:0px;"><p class="p_Normal"><img alt="alert-notice-ico" width="24" height="24" style="margin:0;width:24px;height:24px;border:none" src="alert-notice-ico.png"/></p>
</td>
<td style="vertical-align:top; width:1131px; padding:0px;"><p class="p_notice"><span class="f_notice">Please refer to chapter <a href="firewall-settings.html" class="topiclink">Firewall Settings</a>. In this chapter the configuration for &quot;https&quot;-Only access to the tomcat server is described. This is essential to prevent security attacks.</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">You can download it at: <a href="http://tomcat.apache.org/download-80.cgi" target="_blank" class="weblink" title="apache tomcat">http://tomcat.apache.org/download-80.cgi</a></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">After the download you have to unzip the file by using the following command:</p>
<p class="p_Normal"><span style="background-color: #e6e6e6;">&nbsp;tar -xzf apache-tomcat-8.5.11.tar.gz&nbsp;</span></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">Now move the new folder to the target path you want to:</p>
<p class="p_Normal"><span style="background-color: #e6e6e6;">&nbsp;mv apache-tomcat-8.5.11 /opt&nbsp;</span></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">After <span style="font-weight: bold;">setting up the permissions</span> you are able to start Tomcat for testing purpose with the following command:</p>
<p class="p_Normal"><span style="background-color: #e6e6e6;">$TOMCAT/bin/startup.sh</span></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">If the server is up and running you can test it by calling </p>
<p class="p_Normal"><span style="background-color: #e6e6e6;">&nbsp;localhost:8080&nbsp;</span> with your browser</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">At the end you can shutdown the server by:</p>
<p class="p_Normal"><span style="background-color: #e6e6e6;">&nbsp;$TOMCAT/shutdown.sh&nbsp;</span></p>
<p class="p_Subheading"><span class="f_Subheading">With APT</span></p>
<p class="p_Normal">For the installation with the &nbsp;Advanced Packaging Tool you have to start with the command:</p>
<p class="p_Normal"><span style="background-color: #e6e6e6;">&nbsp;apt-get -y install tomcat8 tomcat8-admin tomcat8-examples tomcat8-docs&nbsp;</span></p>
<p class="p_Normal">After that you have to add a user to the tomcat-users.xml by opening the file with:</p>
<p class="p_Normal"><span style="background-color: #e6e6e6;">sudo nano /var/lib/tomcat8/conf/tomcat-users.xml</span></p>
<p class="p_Normal">now insert the following into the &lt;users&gt; &lt;/users&gt; tag:</p>
<p class="p_Normal"><span style="background-color: #e6e6e6;">--&gt; insert: &lt;user username=&quot;admin&quot; password=&quot;admin&quot; roles=&quot;manager-gui,admin-gui&quot;/&gt;</span></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">In the next step you have to add the following jar-files to the default &quot;<span style="font-weight: bold;">CLASSPATH</span>&quot;:</p>
<p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span>&lt;tomcat installation directory&gt;\webapps\orchestra\WEB-INF\lib\orchestra-jre-url-extension.jar</p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span>&lt;tomcat installation directory&gt;\webapps\orchestra\WEB-INF\lib\emds_logging.jar</p><p class="p_Normal">&nbsp;</p>
<p class="p_Normal">The shell script catalina.sh is looking for a configuration file setenv.sh.</p>
<p class="p_Normal">Create the file &lt;tomcat&gt;/bin/setenv.sh and fill it with this lines:</p>
<p class="p_Normal"><img alt="screenshot_184" width="1676" height="117" style="margin:0;width:1676px;height:117px;border:none" src="screenshot_184.jpg"/></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">Furthermore the java options have to be adjusted (<span style="font-weight: bold;">CATALINA_OPTS</span>).</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">Also the memory options should be adjusted. 'Initial memory pool' stands for the initial RAM at the start of Tomcat. When the memory consumption gets bigger the used memory increases, till the value on 'maximum memory pool' is reached. Please set the values to the following default values:</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">Initial memory pool:<span style="font-weight: bold;"> -Xms1024m</span> (=1GB)</p>
<p class="p_Normal">Max memory pool:<span style="font-weight: bold;"> -Xmx2048m</span> (=2GB)</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal"><span style="font-weight: bold;">Recommended Java Options for Java 8:</span></p>
<p class="p_Normal">-XX:MaxMetaspaceSize=1024m</p>
<p class="p_Normal">-XX:NewRatio=2</p>
<p class="p_Normal">-XX:SurvivorRatio=6</p>
<p class="p_Normal">-XX:+UseConcMarkSweepGC</p>
<p class="p_Normal">-XX:+CMSParallelRemarkEnabled</p>
<p class="p_Normal">-XX:+UseCMSInitiatingOccupancyOnly</p>
<p class="p_Normal">-XX:CMSInitiatingOccupancyFraction=75</p>
<p class="p_Normal">-XX:+ScavengeBeforeFullGC</p>
<p class="p_Normal">-XX:+CMSScavengeBeforeRemark</p>
<p class="p_Normal">-XX:+CMSClassUnloadingEnabled</p>
<p class="p_Normal">-XX:+UseCodeCacheFlushing</p>
<p class="p_Normal">-Dsun.net.inetaddr.ttl=300</p>
<p class="p_Normal">-XX:+HeapDumpOnOutOfMemoryError</p>
<p class="p_Normal">-XX:HeapDumpPath=&lt;path where a heap dump is written in case of a out of memory error&gt;</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">In cases where the orchestra support has to do a detailed diagnosis of an orchestra system, it is useful to allow the access to the virtual machine by Visual VM (Profiler). This access can be enabled with the following parameters:</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal"><span style="font-weight: bold;">Debug options for Visual VM</span></p>
<p class="p_Normal">-Dcom.sun.management.jmxremote</p>
<p class="p_Normal">-Dcom.sun.management.jmxremote.port=8099</p>
<p class="p_Normal">-Dcom.sun.management.jmxremote.ssl=false</p>
<p class="p_Normal">-Dcom.sun.management.jmxremote.authenticate=false</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">A detailed description of the configuration of this debugging options (including security options) can be found at <a href="http://docs.oracle.com/javase/8/docs/technotes/guides/management/agent.html" target="_blank" class="weblink">Java Management Console</a></p>
<p class="p_Normal">&nbsp;</p>

<!--ZOOMSTOP-->


</div> <!-- idcontent -->
</div><!-- hmbox --> 
</body>
</html>
