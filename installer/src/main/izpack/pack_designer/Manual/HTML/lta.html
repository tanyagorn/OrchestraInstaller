<!DOCTYPE html>
<html>
<head>
   <title>LTA</title>
   <meta http-equiv="X-UA-Compatible" content="IE=edge" />
   <meta name="viewport" content="width=device-width, user-scalable=yes, initial-scale=1, minimum-scale=1" />
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="" />
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
   <meta http-equiv="content-language" content="en-us" />
   <meta name="description" content="For the long time archive there are special tables in the Orchestra schema (orc_lta*). The LTA tables can be located in a own database. For this purpose, the whole Orchestra..." />
   <meta http-equiv="Content-Style-Type" content="text/css" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <link id="tabscheme" type="text/css" href="hm_topic.css" rel="stylesheet" />   
<style type="text/css">
/* No header topics */

/* Breadcrumb trail */
p#breadcrumbs {
font-family: Verdana, Tahoma, Helvetica, Sans-Serif;   padding: 2px 0 1px 2px;
   margin: 0;
   font-size: 8pt; 
   color: #999;
   }   
p#breadcrumbs a { color: #999; text-decoration: none;}
p#breadcrumbs a:visited {color: #999;}
p#breadcrumbs a:hover { color: #333; border-bottom: 1px dotted #333; }

/* Search hightlight color */
span.highlight {background-color: #ffff40;}
</style>
<script type="text/javascript">
var hmHeaderTopic = true;

</script> 
<!--[if IE 9]>
<link id="iesvgcss" rel="stylesheet" type="text/css" href="hm_webhelp_svg.css" />
<![endif]-->	
<script src="jquery.js"></script>
<script type="text/javascript" src="jquery.tools.min.js"></script>
<script type="text/javascript" src="jquery.scrollTo-min.js"></script>
<script type="text/javascript"> 
// General topic variables
var tVars = {
   hmHelpPage: "index.html",
   nextP: "designer_partner-management.html",
   prevP: "housekeeping.html",
   currP: "lta.html",
   descr: "For the long time archive there are special tables in the Orchestra schema (orc_lta*). The LTA tables can be located in a own database. For this purpose, the whole Orchestra...",
   keys: "",
   defP: "housekeeping.html",
   mailUrl: "",
   mailUrlQuery: "",
   projectTitle: "Documentation",
   titleP: "LTA",
   mailsubject: "Your feedback: Documentation - LTA",
   sharesubject: "Documentation - LTA",
   simplesubject: "Documentation%20Feedback",
   mailid: "LTA",
   mailpath: "Orchestra Documentation &gt; Reference Manual &gt; Housekeeping &gt; LTA /",
   mailbody: "",
   fbtype: false,
   header: true,
   background: "spacer.gif",
   tablesReady: false,
   togglesReady: false,
   webRedirect: true,
   topicTitleBar: true,
   titleBarContent: "topic",
   printFooter: true,
   zoomTip: "Click here to view image in its original size",
   autoPrint: true,
   printButton: "Print",
   printButtonTip: "Print topic"
   }
// Popup configuration
 var hmpBShadow = true;
 var hmPopSmallDim = 500;
 var hmPopKillVideo = true;
 // AutoTOC variables
 var hmatocvars = {
   atoc_show: true,
   atoc_title: "Topic content",
   atoc_tip: "Navigate to:&nbsp;",
   atoc_minHeaders: 3,
   atoc_btntip_off: "No topiv headers on this site",
   atoc_btntip_on: "Show/hide topic menu",
   atoc_toptip: "Navigate to beginning of page",
   atoc_top: "Beginning of page",
   atoc_bg: "#f6f6f6",
   atoc_border: "silver",
   atoc_linkcolor: "#444",
   atoc_linklimit: 45,
   atoc_hovercolor: "#000",
   atoc_hoverbgcolor: "#e0e0e0"
}
// Sortable tables
var sortVars = {
   europeandate: false,
   germanNumbers: false,
   imagePath: "",
   image_up: "arrow-up.gif",
   image_down: "arrow-down.gif",
   image_empty: "arrow-empty.gif",
   image_none: "arrow-none.gif",
   sort_tip: "Click here to sort column",
   umlauts: "false"
   }

</script>


<script type="text/javascript" src="helpman_settings.js"></script>
<script type="text/javascript" src="helpman_topicinit.js"></script>
<script type="text/javascript" src="hmtopic.js"></script>

   <script type="text/javascript">
     HMSyncTOC("index.html", "lta.html");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
<body>
<!-- Help & Manual Premium Pack templates by Tim Green, Copyright (c) 2011-2014, All Rights Reserved -->
<!--ZOOMSTOP-->



<ul id="topictabs" class="tabs">
<li id="indextab" class="hmtabs"><a href="#" id="indextablink" class="current"><span>LTA</span></a></li>
</ul>
<div id="hmbox">
<div id="hmheader">
<div id="hmheadercontents">
<p id="breadcrumbs" class="sync-toc">
<b><span class="sync-toc"><a rel="nofollow" class="sync-toc-link" href="index.html?lta.html" target="_top">&lt;&lt;&nbsp;Click here for table of contents&nbsp;&gt;&gt;</a>&nbsp;&nbsp;</span></b></p> 
<h1 class="p_Heading1"><span class="f_Heading1">LTA</span></h1>

</div>
<div id="atocIcon" class="navdivs">
<img class="navicon" id="hmAtocLink" src="contents_off.png" alt="No topiv headers on this site" title="No topiv headers on this site" />
<br /><span>Topic content</span>
</div>
</div>
<div id="autoTocWrapper" class="topicmenu"></div>
<div id="idcontent">
<div id="unclicker"></div>
<!--ZOOMRESTART-->
<p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span>For the long time archive there are special tables in the Orchestra schema (orc_lta*). The LTA tables can be located in a own database. For this purpose, the whole Orchestra schema with all SQL scripts has to be created in the database. The database connection has to be configured in the environment settings. Search for the group database and adjust the parameters archive.* ( <a href="database.html" class="topiclink">database</a> )</p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span>If the LTA is active, only the metadata from processes and messages will be stored in the LTA tables. The processes and messages themselves will be stored as a zip file in the file system. This is done because so the data in the monitor can be searched more easily.</p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span>There are also housekeeping settings for the LTA that specify how long the data will be preserved. After this period of time, the data will be deleted from the file system and from the LTA tables.</p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span>Orchestra creates the following folder structure in the target directory:</p><p class="p_CodeExample" style="line-height: 1.80; page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">/messagestore</span><br />
<span class="f_CodeExample">/messagestoreCompressed</span><br />
<span class="f_CodeExample">/process</span><br />
<span class="f_CodeExample">/processCompressed</span></p>
<p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 26px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Courier New';color:#000000;display:inline-block;width:13px;margin-left:-13px">o</span>Every folder contains the same structure then: Year/Month/Day/Hour. So for example the Folder 2017/03/17/12 means that the data from the 17th of March 2017 from 12 o'clock is stored.</p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 26px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Courier New';color:#000000;display:inline-block;width:13px;margin-left:-13px">o</span>The compressed folders are used for not overwhelming the file system with a lot of small zip-files. Older folders from one hour will be compressed again for that purpose.</p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span>The LTA is used for all scenarios. It is not possible to restrict it.</p><p class="p_Subheading"><span class="f_Subheading">Configuration</span></p>
<p class="p_Normal">This section gives some configuration examples. The basic information can be found in the environment settings section, the groups that are referenced here are linked in the corresponding parts.</p>
<p class="p_Subheading2"><span class="f_Subheading2">Database</span></p>
<p class="p_Normal">LTA needs a database connection. As described above, the LTA can be stored in another database than the runtime database. Create a whole Orchestra database with the scripts for that. The 6 LTA tables are the important ones here. This is an example configuration for a LTA database. The parameters themselves are explained here: <a href="database.html" class="topiclink">database</a></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample" style="color: #ffffff;"> &nbsp;  </span><span class="f_CodeExample">&lt;group</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">name=&quot;database&quot;&gt;</span><br />
<span class="f_CodeExample" style="color: #ffffff;"> &nbsp; &nbsp; &nbsp; &nbsp;  </span><span class="f_CodeExample">&lt;parameter</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">name=&quot;archive.db.typ&quot;</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">value=&quot;MYSQL&quot;</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">choice=&quot;HSQL|ORACLE|MSSQL|DB2|MYSQL|Derby|INFORMIX|PostgreSQL&quot;/&gt;</span><br />
<span class="f_CodeExample" style="color: #ffffff;"> &nbsp; &nbsp; &nbsp; &nbsp;  </span><span class="f_CodeExample">&lt;parameter</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">name=&quot;archive.url&quot;</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">value=&quot;jdbc:mysql://127.0.0.1:3306/orc4562&quot;/&gt;</span><br />
<span class="f_CodeExample" style="color: #ffffff;"> &nbsp; &nbsp; &nbsp; &nbsp;  </span><span class="f_CodeExample">&lt;parameter</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">name=&quot;archive.user&quot;</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">value=&quot;0008425555424d5a535400066e756c6c71710000000889a33d5384fcd75a&quot;/&gt;</span><br />
<span class="f_CodeExample" style="color: #ffffff;"> &nbsp; &nbsp; &nbsp; &nbsp;  </span><span class="f_CodeExample">&lt;parameter</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">name=&quot;archive.pwd&quot;</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">value=&quot;0008425555424d5a535400066e756c6c71710000000889a33d5384fcd75a&quot;/&gt;</span><br />
<span class="f_CodeExample" style="color: #ffffff;"> &nbsp;  </span><span class="f_CodeExample">&lt;/group&gt;</span></p>
<p class="p_Subheading2"><span class="f_Subheading2">General Settings</span></p>
<p class="p_Normal">A description of the parameters can be found here: <a href="longtimearchive.html" class="topiclink">longtimearchive</a></p>
<p class="p_Normal"> &nbsp;  <span class="f_CodeExample">&lt;group</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">name=&quot;longtimearchive&quot;&gt;</span><br />
<span class="f_CodeExample" style="color: #ffffff;"> &nbsp; &nbsp; &nbsp;  </span><span class="f_CodeExample">&lt;parameter</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">name=&quot;mode&quot;</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">value=&quot;inactive&quot;</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">choice=&quot;active|inactive&quot;/&gt;</span><br />
<span class="f_CodeExample" style="color: #ffffff;"> &nbsp; &nbsp; &nbsp;  </span><span class="f_CodeExample">&lt;parameter</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">name=&quot;file.path&quot;</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">value=&quot;c:/temp/longtimearchive&quot;/&gt;</span><br />
<span class="f_CodeExample" style="color: #ffffff;"> &nbsp; &nbsp; &nbsp;  </span><span class="f_CodeExample">&lt;parameter</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">name=&quot;automaticDeletion&quot;</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">value=&quot;true&quot;/&gt;</span><br />
<span class="f_CodeExample" style="color: #ffffff;"> &nbsp; &nbsp; &nbsp;  </span><span class="f_CodeExample">&lt;parameter</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">name=&quot;deleteCorruptZipFiles&quot;</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">value=&quot;false&quot;/&gt;</span><br />
<span class="f_CodeExample" style="color: #ffffff;"> &nbsp; &nbsp; &nbsp;  </span><span class="f_CodeExample">&lt;parameter</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">name=&quot;compressAfter&quot;</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">value=&quot;7,DAY&quot;/&gt;</span><br />
<span class="f_CodeExample" style="color: #ffffff;"> &nbsp; &nbsp; &nbsp;  </span><span class="f_CodeExample">&lt;parameter</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">name=&quot;compressLimit&quot;</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">value=&quot;24&quot;/&gt;</span><br />
<span class="f_CodeExample" style="color: #ffffff;">  </span><span class="f_CodeExample">&lt;/group&gt;</span></p>
<div style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 10px;"><table class="warningattentioninfo table" style="border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:37px; padding:0px;"><p class="p_Normal"><img alt="alert-notice-ico" width="24" height="24" style="margin:0;width:24px;height:24px;border:none" src="alert-notice-ico.png"/></p>
</td>
<td style="vertical-align:top; width:1131px; padding:0px;"><p class="p_notice"><span class="f_notice">If you access the archived processes in the monitor this leads to a greater latency as the large zip-file has to be decompressed first and then the searched process has to be decompressed</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Subheading2"><span class="f_Subheading2">Housekeeping settings</span></p>
<p class="p_Normal">A parameter description can be found here: <a href="housekeeping2.html" class="topiclink">housekeeping</a></p>
<p class="p_Normal">These parameters configure how long processes and messages stay in the LTA:</p>
<p class="p_Normal"> &nbsp;  <span class="f_CodeExample">&lt;group</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">name=&quot;Housekeeping&quot;&gt;</span><br />
<span class="f_CodeExample" style="color: #ffffff;"> &nbsp; &nbsp; &nbsp;  </span><span class="f_CodeExample">&lt;parameter</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">name=&quot;LongtimeArchive.cleanup&quot;</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">value=&quot;30,DAY&quot;/&gt;</span><br />
<span class="f_CodeExample" style="color: #ffffff;"> &nbsp; &nbsp; &nbsp;  </span><span class="f_CodeExample">&lt;parameter</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">name=&quot;LongtimeArchive.polling&quot;</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">value=&quot;30,MINUTE&quot;/&gt;</span><br />
<span class="f_CodeExample" style="color: #ffffff;"> &nbsp; &nbsp; &nbsp;  </span><span class="f_CodeExample">&lt;parameter</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">name=&quot;LongtimeArchive.limit&quot;</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">value=&quot;5000&quot;/&gt;</span><br />
<span class="f_CodeExample" style="color: #ffffff;"> &nbsp; &nbsp; &nbsp;  </span><span class="f_CodeExample">&lt;parameter</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">name=&quot;LongtimeArchive.starttime&quot;</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">value=&quot;00:00&quot;/&gt;</span><br />
<span class="f_CodeExample" style="color: #ffffff;"> &nbsp; &nbsp; &nbsp;  </span><span class="f_CodeExample">&lt;parameter</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">name=&quot;LongtimeArchive.endtime&quot;</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">value=&quot;23:59&quot;/&gt;</span><br />
<span class="f_CodeExample" style="color: #ffffff;">  </span><span class="f_CodeExample">&lt;/group&gt;</span></p>
<p class="p_Normal">With the other housekeeping settings you can configure how long the processes and messages stay in the runtime version before they are moved to the LTA:</p>
<p class="p_CodeExample" style="line-height: 1.80; page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample" style="color: #ffffff;"> &nbsp; &nbsp; &nbsp;  </span><span class="f_CodeExample">&lt;parameter</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">name=&quot;ProcessCleanup.SUCCESS.cleanup&quot;</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">value=&quot;5,HOUR&quot;/&gt;</span><br />
<span class="f_CodeExample" style="color: #ffffff;"> &nbsp; &nbsp; &nbsp;  </span><span class="f_CodeExample">&lt;parameter</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">name=&quot;ProcessCleanup.FAILURE.cleanup&quot;</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">value=&quot;50,HOUR&quot;/&gt;</span><br />
<span class="f_CodeExample" style="color: #ffffff;"> &nbsp; &nbsp; &nbsp;  </span><span class="f_CodeExample">&lt;parameter</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">name=&quot;MessageStore.cleanup&quot;</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">value=&quot;30,MINUTE&quot;/&gt;</span></p>
<div style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 10px;"><table class="warningattentioninfo table" style="border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:37px; padding:0px;"><p class="p_Normal"><img alt="alert-notice-ico" width="24" height="24" style="margin:0;width:24px;height:24px;border:none" src="alert-notice-ico.png"/></p>
</td>
<td style="vertical-align:top; width:1131px; padding:0px;"><p class="p_notice"><span class="f_notice">In current versions, the messages are kept as long as the corresponding process. For that reason, the parameter &quot;MessageStore.cleanup&quot; is not necessary any more. &nbsp;30 minutes are completely sufficient. A longer time would lead to unneccessary long storage in the runtime database. A shorter time would lead to a too early release of the message for some databases.</span></p>
</td>
</tr>
</table>
</div>

<!--ZOOMSTOP-->


</div> <!-- idcontent -->
</div><!-- hmbox --> 
</body>
</html>
