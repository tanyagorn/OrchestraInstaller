<!DOCTYPE html>
<html>
<head>
   <title>Database Listener</title>
   <meta http-equiv="X-UA-Compatible" content="IE=edge" />
   <meta name="viewport" content="width=device-width, user-scalable=yes, initial-scale=1, minimum-scale=1" />
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="database,inbound,listener" />
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
   <meta http-equiv="content-language" content="en-us" />
   <meta name="description" content="Description The Database Listener is an inbound channel which scans a database table for records matching certain conditions. Whenever records are found matching the search..." />
   <meta http-equiv="Content-Style-Type" content="text/css" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <link id="tabscheme" type="text/css" href="hm_topic.css" rel="stylesheet" />   
<style type="text/css">
/* No header topics */

/* Breadcrumb trail */
p#breadcrumbs {
font-family: Verdana, Tahoma, Helvetica, Sans-Serif;   padding: 2px 0 1px 2px;
   margin: 0;
   font-size: 8pt; 
   color: #999;
   }   
p#breadcrumbs a { color: #999; text-decoration: none;}
p#breadcrumbs a:visited {color: #999;}
p#breadcrumbs a:hover { color: #333; border-bottom: 1px dotted #333; }

/* Search hightlight color */
span.highlight {background-color: #ffff40;}
</style>
<script type="text/javascript">
var hmHeaderTopic = true;

</script> 
<!--[if IE 9]>
<link id="iesvgcss" rel="stylesheet" type="text/css" href="hm_webhelp_svg.css" />
<![endif]-->	
<script src="jquery.js"></script>
<script type="text/javascript" src="jquery.tools.min.js"></script>
<script type="text/javascript" src="jquery.scrollTo-min.js"></script>
<script type="text/javascript"> 
// General topic variables
var tVars = {
   hmHelpPage: "index.html",
   nextP: "email-listener.html",
   prevP: "dicom-worklist-server.html",
   currP: "database-listener.html",
   descr: "Description The Database Listener is an inbound channel which scans a database table for records matching certain conditions. Whenever records are found matching the search...",
   keys: "database,inbound,listener",
   defP: "designer_channel_inbound.html",
   mailUrl: "",
   mailUrlQuery: "",
   projectTitle: "Documentation",
   titleP: "Database Listener",
   mailsubject: "Your feedback: Documentation - Database Listener",
   sharesubject: "Documentation - Database Listener",
   simplesubject: "Documentation%20Feedback",
   mailid: "Database-Listener",
   mailpath: "Orchestra Documentation &gt; Reference Manual &gt; Designer Reference &gt; Scenario Elements &gt; Channels &gt; Inbound &gt; Database Listener /",
   mailbody: "",
   fbtype: false,
   header: true,
   background: "spacer.gif",
   tablesReady: false,
   togglesReady: false,
   webRedirect: true,
   topicTitleBar: true,
   titleBarContent: "topic",
   printFooter: true,
   zoomTip: "Click here to view image in its original size",
   autoPrint: true,
   printButton: "Print",
   printButtonTip: "Print topic"
   }
// Popup configuration
 var hmpBShadow = true;
 var hmPopSmallDim = 500;
 var hmPopKillVideo = true;
 // AutoTOC variables
 var hmatocvars = {
   atoc_show: true,
   atoc_title: "Topic content",
   atoc_tip: "Navigate to:&nbsp;",
   atoc_minHeaders: 3,
   atoc_btntip_off: "No topiv headers on this site",
   atoc_btntip_on: "Show/hide topic menu",
   atoc_toptip: "Navigate to beginning of page",
   atoc_top: "Beginning of page",
   atoc_bg: "#f6f6f6",
   atoc_border: "silver",
   atoc_linkcolor: "#444",
   atoc_linklimit: 45,
   atoc_hovercolor: "#000",
   atoc_hoverbgcolor: "#e0e0e0"
}
// Sortable tables
var sortVars = {
   europeandate: false,
   germanNumbers: false,
   imagePath: "",
   image_up: "arrow-up.gif",
   image_down: "arrow-down.gif",
   image_empty: "arrow-empty.gif",
   image_none: "arrow-none.gif",
   sort_tip: "Click here to sort column",
   umlauts: "false"
   }

</script>


<script type="text/javascript" src="helpman_settings.js"></script>
<script type="text/javascript" src="helpman_topicinit.js"></script>
<script type="text/javascript" src="hmtopic.js"></script>

   <script type="text/javascript">
     HMSyncTOC("index.html", "database-listener.html");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
<body>
<!-- Help & Manual Premium Pack templates by Tim Green, Copyright (c) 2011-2014, All Rights Reserved -->
<!--ZOOMSTOP-->



<ul id="topictabs" class="tabs">
<li id="indextab" class="hmtabs"><a href="#" id="indextablink" class="current"><span>Database Listener</span></a></li>
</ul>
<div id="hmbox">
<div id="hmheader">
<div id="hmheadercontents">
<p id="breadcrumbs" class="sync-toc">
<b><span class="sync-toc"><a rel="nofollow" class="sync-toc-link" href="index.html?database-listener.html" target="_top">&lt;&lt;&nbsp;Click here for table of contents&nbsp;&gt;&gt;</a>&nbsp;&nbsp;</span></b></p> 
<h1 class="p_Heading1"><span class="f_Heading1">Database Listener</span></h1>

</div>
<div id="atocIcon" class="navdivs">
<img class="navicon" id="hmAtocLink" src="contents_off.png" alt="No topiv headers on this site" title="No topiv headers on this site" />
<br /><span>Topic content</span>
</div>
</div>
<div id="autoTocWrapper" class="topicmenu"></div>
<div id="idcontent">
<div id="unclicker"></div>
<!--ZOOMRESTART-->
<h2 class="p_Heading2"><span class="f_Heading2">Description</span></h2>
<p class="p_Normal">The <span class="f_Emphasize">Database Listener</span> is an inbound channel which scans a database table for records matching certain conditions.</p>
<p class="p_Normal">Whenever records are found matching the search condition, the records are read and their content is returned from the channel as structured message. The recognized records then are marked as read by setting a flag on a column to avoid that the records are processed a second time.</p>
<h2 class="p_Heading2"><span class="f_Heading2">Purpose of object</span></h2>
<p class="p_Normal">The Database Listener serves as means to start a process model whenever the content of a database table changes.</p>
<h2 class="p_Heading2"><span class="f_Heading2">Creation</span></h2>
<p class="p_Normal">To create a <span class="f_Emphasize">Database Listener</span> follow the steps described in the general description of <a href="channels.html#create_new_channel" class="topiclink" title="how to create a new channel">Channels</a></p>
<h2 class="p_Heading2"><span class="f_Heading2">Configuration</span></h2>
<p class="p_Normal">The dialog to configure the Database Listener looks like:</p>
<p class="p_ImageCaption"><img alt="database-listener_view" width="722" height="610" style="margin:0;width:722px;height:610px;border:none" src="database-listener_view.png"/></p>
<h2 class="p_Heading2"><span class="f_Heading2">Step by Step</span></h2>
<p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_Bulletedtopiclist">Database </span><span class="f_BulletedListNormal">The selected database connection.</span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_Bulletedtopiclist">Inbound Message</span><span class="f_BulletedListNormal"> the <a href="message-types.html" class="topiclink">Message type</a> representing the table and possible dependent child tables of the database. Click on the button denoted by three dots to open a dialog where you can select a message type and the </span><span class="f_Emphasize">Root table</span><span class="f_BulletedListNormal"> of that structure. Only Message types which are <a href="messagetypes_creation.html#designer_msg_type_import_from_db" class="topiclink">imported from the database</a> are selectable.</span><br />
<img alt="database-listener_selectMessage" width="426" height="150" style="margin:0;width:426px;height:150px;border:none" src="database-listener_selectmessage.png"/><br />
The channel regularly selects the <span class="f_Emphasize">Root table</span> to search for records which fulfill the <span class="f_Emphasize">Wait condition</span>.</p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_Bulletedtopiclist">Threshold </span><span class="f_BulletedListNormal">The maximum number of records which are read at once within a polling interval. You can select 1, 10, 50, 100, 250 and </span><span class="f_Emphasize">infinite</span><span class="f_BulletedListNormal"> here.</span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_Bulletedtopiclist">Mode </span><span class="f_BulletedListNormal">There are two working mode which you can select here: </span><span class="f_Emphasize">One message per record</span><span class="f_BulletedListNormal"> or </span><span class="f_Emphasize">Create one message with all available records</span><span class="f_BulletedListNormal">. </span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_Bulletedtopiclist">Primary key </span><span class="f_BulletedListNormal">The columns of the </span><span class="f_Emphasize">Root table</span><span class="f_BulletedListNormal"> identifying a record. Click on the button denoted by three dots to open a dialog where you can select the columns which together form the unique key.</span><br />
<img alt="database-listener_primary-key" width="272" height="145" style="margin:0;width:272px;height:145px;border:none" src="database-listener_primary-key.png"/></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_Bulletedtopiclist">Wait condition </span><span class="f_BulletedListNormal">A SQL condition used in the where part of the polling statement to select the columns to read. Typically </span><span class="f_Emphasize">Wait condition</span><span class="f_BulletedListNormal"> and a </span><span class="f_Emphasize">processed action</span><span class="f_BulletedListNormal"> are complementary. In the example above the </span><span class="f_Emphasize">Wait condition</span><span class="f_BulletedListNormal"> is READSTAT = 0 and the </span><span class="f_Emphasize">processed action </span><span class="f_BulletedListNormal">READSTAT = 1.</span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_Bulletedtopiclist">Order by </span><span class="f_BulletedListNormal">a list of column names of the </span><span class="f_Emphasize">Root table</span><span class="f_BulletedListNormal"> defining the order of the result. Because this is simply added to the generated SQL statement to select the </span><span class="f_Emphasize">Root table</span><span class="f_BulletedListNormal">, you can add the key words ASC or DESC to the column list.</span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_Bulletedtopiclist">processed action </span><span class="f_BulletedListNormal">You may select either </span><span class="f_Emphasize">Delete</span><span class="f_BulletedListNormal"> or </span><span class="f_Emphasize">Update</span><span class="f_BulletedListNormal"> here. If you select </span><span class="f_Emphasize">Update</span><span class="f_BulletedListNormal"> you must enter an Update action like &lt;columnname = &lt;value&gt;</span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_Bulletedtopiclist">Timing </span></p><p class="p_BulletedListNormal"><span class="f_BulletedListNormal">&nbsp;</span></p>
<p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_Bulletedtopiclist">Foreign key definition </span><span class="f_BulletedListNormal">In this panel the user has to define the relationship between a parent table (e.g. the </span><span class="f_Emphasize">RootTable</span><span class="f_BulletedListNormal">) and its details. You have to click on the buttons denoted by three dots to open a dialog where the foreign key relationship has to be defined.</span></p><div class="p_BulletedListNormal"><div style="margin:0;width:330px"><img alt="Dialog to edit a foreign key relationship" title="Dialog to edit a foreign key relationship" width="330" height="250" style="width:330px;height:250px;border:none" src="database-listener_edit_foreign_key.png"/><p style="text-align:center"><span class="f_ImageCaption">Dialog to edit a foreign key relationship</span></p></div></div>
<p class="p_BulletedListNormal">A foreign key is a reference to a primary key on the referenced table, so a foreign key can consist of several columns. In this dialog you can add all the columns which are part of the foreign key and the related columns of the references primary key.<br />
You also may add an optional where condition to constrain the records selected from the detail table.</p>
<h2 class="p_Heading2"><span class="f_Heading2">See also</span></h2>
<p class="p_Normal">Use the <a href="database-target.html" class="topiclink">Database Target</a> or the <a href="database-outbound-channel.html" class="topiclink">Database outbound channel</a> to write data to a database.</p>
<p class="p_Normal">Use the <a href="designer_channel_outbound.html" class="topiclink">Outbound channels</a> <a href="database-reader.html" class="topiclink">Database Reader</a>, <a href="database-source-reader.html" class="topiclink">Database Source Reader</a> or the <a href="database-outbound-channel.html" class="topiclink">Database outbound channel</a> to read data from a database.</p>
<p class="p_Normal">&nbsp;</p>

<!--ZOOMSTOP-->


</div> <!-- idcontent -->
</div><!-- hmbox --> 
</body>
</html>
