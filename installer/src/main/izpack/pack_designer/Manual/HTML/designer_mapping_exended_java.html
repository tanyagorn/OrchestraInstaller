<!DOCTYPE html>
<html>
<head>
   <title>Extended Java mapping</title>
   <meta http-equiv="X-UA-Compatible" content="IE=edge" />
   <meta name="viewport" content="width=device-width, user-scalable=yes, initial-scale=1, minimum-scale=1" />
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="java,mapping,procedural,XPath" />
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
   <meta http-equiv="content-language" content="en-us" />
   <meta name="description" content="Concept An Extended Java mapping is a procedural mapping. The mapping is described by a procedure (a method) written in an extended Java language. The language is extended by..." />
   <meta http-equiv="Content-Style-Type" content="text/css" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <link id="tabscheme" type="text/css" href="hm_topic.css" rel="stylesheet" />   
<style type="text/css">
/* No header topics */

/* Breadcrumb trail */
p#breadcrumbs {
font-family: Verdana, Tahoma, Helvetica, Sans-Serif;   padding: 2px 0 1px 2px;
   margin: 0;
   font-size: 8pt; 
   color: #999;
   }   
p#breadcrumbs a { color: #999; text-decoration: none;}
p#breadcrumbs a:visited {color: #999;}
p#breadcrumbs a:hover { color: #333; border-bottom: 1px dotted #333; }

/* Search hightlight color */
span.highlight {background-color: #ffff40;}
</style>
<script type="text/javascript">
var hmHeaderTopic = true;

</script> 
<!--[if IE 9]>
<link id="iesvgcss" rel="stylesheet" type="text/css" href="hm_webhelp_svg.css" />
<![endif]-->	
<script src="jquery.js"></script>
<script type="text/javascript" src="jquery.tools.min.js"></script>
<script type="text/javascript" src="jquery.scrollTo-min.js"></script>
<script type="text/javascript"> 
// General topic variables
var tVars = {
   hmHelpPage: "index.html",
   nextP: "designer_java-compiling.html",
   prevP: "designer_mapping_xslt.html",
   currP: "designer_mapping_exended_java.html",
   descr: "Concept An Extended Java mapping is a procedural mapping. The mapping is described by a procedure (a method) written in an extended Java language. The language is extended by...",
   keys: "java,mapping,procedural,XPath",
   defP: "message-mappings.html",
   mailUrl: "",
   mailUrlQuery: "",
   projectTitle: "Documentation",
   titleP: "Extended Java mapping",
   mailsubject: "Your feedback: Documentation - Extended Java mapping",
   sharesubject: "Documentation - Extended Java mapping",
   simplesubject: "Documentation%20Feedback",
   mailid: "designer_mapping_exended_java",
   mailpath: "Orchestra Documentation &gt; Reference Manual &gt; Designer Reference &gt; Scenario Elements &gt; Message mappings &gt; Extended Java mapping /",
   mailbody: "",
   fbtype: false,
   header: true,
   background: "spacer.gif",
   tablesReady: false,
   togglesReady: false,
   webRedirect: true,
   topicTitleBar: true,
   titleBarContent: "topic",
   printFooter: true,
   zoomTip: "Click here to view image in its original size",
   autoPrint: true,
   printButton: "Print",
   printButtonTip: "Print topic"
   }
// Popup configuration
 var hmpBShadow = true;
 var hmPopSmallDim = 500;
 var hmPopKillVideo = true;
 // AutoTOC variables
 var hmatocvars = {
   atoc_show: true,
   atoc_title: "Topic content",
   atoc_tip: "Navigate to:&nbsp;",
   atoc_minHeaders: 3,
   atoc_btntip_off: "No topiv headers on this site",
   atoc_btntip_on: "Show/hide topic menu",
   atoc_toptip: "Navigate to beginning of page",
   atoc_top: "Beginning of page",
   atoc_bg: "#f6f6f6",
   atoc_border: "silver",
   atoc_linkcolor: "#444",
   atoc_linklimit: 45,
   atoc_hovercolor: "#000",
   atoc_hoverbgcolor: "#e0e0e0"
}
// Sortable tables
var sortVars = {
   europeandate: false,
   germanNumbers: false,
   imagePath: "",
   image_up: "arrow-up.gif",
   image_down: "arrow-down.gif",
   image_empty: "arrow-empty.gif",
   image_none: "arrow-none.gif",
   sort_tip: "Click here to sort column",
   umlauts: "false"
   }

</script>


<script type="text/javascript" src="helpman_settings.js"></script>
<script type="text/javascript" src="helpman_topicinit.js"></script>
<script type="text/javascript" src="hmtopic.js"></script>

   <script type="text/javascript">
     HMSyncTOC("index.html", "designer_mapping_exended_java.html");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
<body>
<!-- Help & Manual Premium Pack templates by Tim Green, Copyright (c) 2011-2014, All Rights Reserved -->
<!--ZOOMSTOP-->



<ul id="topictabs" class="tabs">
<li id="indextab" class="hmtabs"><a href="#" id="indextablink" class="current"><span>Extended Java mapping</span></a></li>
</ul>
<div id="hmbox">
<div id="hmheader">
<div id="hmheadercontents">
<p id="breadcrumbs" class="sync-toc">
<b><span class="sync-toc"><a rel="nofollow" class="sync-toc-link" href="index.html?designer_mapping_exended_java.html" target="_top">&lt;&lt;&nbsp;Click here for table of contents&nbsp;&gt;&gt;</a>&nbsp;&nbsp;</span></b></p> 
<h1 class="p_Heading1"><span class="f_Heading1">Extended Java mapping</span></h1>

</div>
<div id="atocIcon" class="navdivs">
<img class="navicon" id="hmAtocLink" src="contents_off.png" alt="No topiv headers on this site" title="No topiv headers on this site" />
<br /><span>Topic content</span>
</div>
</div>
<div id="autoTocWrapper" class="topicmenu"></div>
<div id="idcontent">
<div id="unclicker"></div>
<!--ZOOMRESTART-->
<h2 class="p_Heading2"><span class="f_Heading2">Concept</span></h2>
<p class="p_Normal">An <span class="f_Emphasize">Extended Java mapping</span> is a procedural mapping. The mapping is described by a procedure (a method) written in an extended Java language. The language is extended by allowing to embed XPath expressions into the source code. <span class="f_BulletedListNormal">Orchestra uses a preprocessor to create plain Java code from this Extended java code. That means that in the </span><span class="f_Emphasize">Extended Java mapping</span><span class="f_BulletedListNormal"> you may use any Java statement or Java expression because it actually is Java. </span></p>
<div style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 10px;"><table class="warningattentioninfo table" style="border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:37px; padding:0px;"><p class="p_Normal"><img alt="alert-notice-ico" width="24" height="24" style="margin:0;width:24px;height:24px;border:none" src="alert-notice-ico.png"/></p>
</td>
<td style="vertical-align:top; width:1131px; padding:0px;"><p class="p_notice"><span class="f_notice">But note that currently only Java 1.4 is supported because internally a Java 1.4 compiler is used (Janino). That means that especially generics are not available!</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Normal"><span class="f_BulletedListNormal">You also should know that the mapping script is nothing more than the body of a method. </span>For each mapping a Java class is generated which inherits from the base class<span class="f_CodeExample"> ProceduralMapping.</span></p>
<h2 class="p_Heading2"><span class="f_Heading2">Creation</span></h2>
<p class="p_Normal"><span class="f_Emphasize">Extended Java mappings</span> are created in the same way than any other <a href="message-mappings.html" class="topiclink">Message mapping</a>. In the scenario element tree select the group <span class="f_Emphasize">message mappings</span> and click on the right mouse button. Then a &nbsp;popup menu opens where you &nbsp;select the item <span class="f_buttonslabelsetc">Create mapping</span>. In the wizard you will be asked to select the mapping type. Here you select the type <span class="f_Emphasize">Extended Java mapping</span>. The wizard will create a minimal script which copies the source message and returns it as value of the result variable.</p>
<h2 class="p_Heading2"><span class="f_Heading2">Configuration</span></h2>
<p class="p_Normal">To configure the mapping double click on the entry in the scenario element tree. Then the editor panel to configure the mapping is opened. <br />
In the upper part the input and output parameters of the mapping are shown. The minimal parameters are a message parameter for the input message and another message parameter for the output message. By default these parameters are named SRC and MSG.</p>
<p class="p_Normal">The following pictures shows the minimal mapping created from the creation wizard.</p>
<div class="p_Normal"><div style="margin:0;width:748px"><img alt="The trivial default mapping created by the mapping wizard" title="The trivial default mapping created by the mapping wizard" width="748" height="244" style="width:748px;height:244px;border:none" src="designer_mapping_procedural_example_trivial.png"/><p style="text-align:center"><span class="f_ImageCaption">The trivial default mapping created by the mapping wizard</span></p></div></div>
<p class="p_Normal">This mapping creates a deep copy of the source message and assigns it to the output variable MSG. Of course this not very sensible. But in some cases a message has to be changed only slightly to conform to some special requirements of a receiving system. Such a mapping might look like:</p>
<div class="p_Normal"><div style="margin:0;width:642px"><img alt="simple example showing how to change one element of the structured message" title="simple example showing how to change one element of the structured message" width="642" height="191" style="width:642px;height:191px;border:none" src="designer_mapping_procedural_example_change_sex.png"/><p style="text-align:center"><span class="f_ImageCaption">simple example showing how to change one element of the structured message</span></p></div></div>
<p class="p_Normal">As you can see in the first line, the whole source structure is copied. Then an XPath is applied on the root node of the source message referenced by the variable SRC. The XPath selects the element PID.8 of the element PID. Because an XPath always returns a NodeSet we need to apply the method asString to get the text content of the selected Node. The element PID.8 contains a code for the sex of a Patient in a hospital. In this example we assume that in the source system female is encoded as &quot;w&quot; and we want to translate that to &quot;f&quot; in the target system. This translation is done by a simple Java expression whose value then is assigned to the field PID.8 in the target message.</p>
<p class="p_Subheading"><span class="f_Subheading">Using XPath assignments</span></p>
<p class="p_Normal">Actually the Expression $SRC is the shortest possible XPath expression. Within the language of the <span class="f_Emphasize">Extended Java mapping </span>an XPath always has to begin with a $ sign. Actually in XPath the $ sign marks a variable name. So in the <span class="f_Emphasize">Extended Java mapping</span> an XPath expression like concat($var, '.txt') is not possible because it is simply not recognized by the preprocessor. But this is no serious problem because within java we have much more functions (static methods) available than in XPath itself. So the Expression $SRC in the mapping script refers to the root node of the structured message references by the variable SRC. Respectively the Expression $MSG refers to the root node of the target message to be created. Actually this root node is created by the <span class="f_Emphasize">Extended Java mapping </span>before the mapping script is executed. &nbsp;</p>
<p class="p_Normal">Any assignment of the form <span class="f_CodeExample">$varname = &lt;nodeexpr&gt;</span> performs a deep copy of the structured node on the right to the structured node on the left. </p>
<p class="p_Normal">That means:</p>
<p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_BulletedListNormal">the Variable </span><span class="f_CodeExample">varname</span><span class="f_BulletedListNormal"> must be defined in the top part of the mapping editor labeled </span><span class="f_buttonslabelsetc">Parameters</span><span class="f_BulletedListNormal">. Otherwise the XPath engine is not able to resolve the variable name.</span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_BulletedListNormal">the Variable </span><span class="f_CodeExample">varname</span><span class="f_BulletedListNormal"> must have the type </span><span class="f_Emphasize">message</span><span class="f_BulletedListNormal"> or </span><span class="f_Emphasize">Node</span><span class="f_BulletedListNormal">. </span><span class="f_Emphasize">Node</span><span class="f_BulletedListNormal"> actually is the java interface </span><span class="f_CodeExample">org.w3c.dom.Node</span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span>the <span class="f_BulletedListNormal">Variable </span><span class="f_CodeExample">varname</span><span class="f_BulletedListNormal"> must already have a value. If you want to assign a Node to a variable simply make a Java assignment like </span><span class="f_CodeExample">Node node = &lt;nodeexpr&gt;;</span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_BulletedListNormal">the right side of the assignment must be an expession of type </span><span class="f_Emphasize">message, Node</span><span class="f_BulletedListNormal"> or </span><span class="f_Emphasize">NodeSet</span><span class="f_BulletedListNormal">.</span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_BulletedListNormal">If the right side returns a </span><span class="f_Emphasize">message </span><span class="f_BulletedListNormal">then the root node is selected,</span><span class="f_Emphasize"> </span><span class="f_BulletedListNormal"> if it returns a </span><span class="f_Emphasize">NodeSet, </span><span class="f_BulletedListNormal">then the first Node of that Node set is selected when evaluating the expression. If the Node set is empty an exception is thrown.</span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_BulletedListNormal">Then a deep copy of the node computed from the evaluation of the right side expression is created and assigned to the node on the left. If the variable on the left references a Node which is part of a DOM tree the copy of the node is imported in that DOM tree.</span></p><p class="p_Normal">Example: The assignment </p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid; margin: 0px 0px 0px 13px;"><span class="f_CodeExample" style="background-color: #dce6f2;">$dstRecord/tns:customer = $SRC/Projekt[projektnr=$projectnr]/Kunde;</span></p>
<p class="p_Normal">will be translated to by the preprocessor to the java code</p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid; margin: 0px 0px 0px 13px;"><span class="f_CodeExample" style="background-color: #dce6f2;">private XPath _XPATH10;</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid; margin: 0px 0px 0px 13px;"><span class="f_CodeExample" style="background-color: #dce6f2;">private XPath _XPATH11;</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid; margin: 0px 0px 0px 13px;"><span class="f_CodeExample" style="background-color: #dce6f2;">this._XPATH10 = new BaseXPath(&quot;tns:customer&quot;);</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid; margin: 0px 0px 0px 13px;"><span class="f_CodeExample" style="background-color: #dce6f2;">this._XPATH11 = new BaseXPath(&quot;Projekt[projektnr=$projectnr]/Kunde&quot;);</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid; margin: 0px 0px 0px 13px;"><span class="f_CodeExample" style="background-color: #dce6f2;">assign(selectL(dstRecord,_XPATH10), selectR(SRC,_XPATH11));</span></p>
<p class="p_Normal">The methoed selectR will then apply the XPath on the source tree, selectL will select the target XPath on the target tree and create some missing nodes. Finally the method assign will then copy the content of the source node to the target node.</p>
<p class="p_Normal">Any assignment of the form <span class="f_CodeExample">$varname = &lt;simpleexpr&gt;</span> also performs a copy of the value on the right to the structured node on the left. </p>
<p class="p_Normal">That means</p>
<p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_BulletedListNormal">the Variable </span><span class="f_CodeExample">varname</span><span class="f_BulletedListNormal"> must be defined in the top part of the mapping editor labeleled </span><span class="f_buttonslabelsetc">Parameters</span><span class="f_BulletedListNormal">.</span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_BulletedListNormal">the Variable </span><span class="f_CodeExample">varname</span><span class="f_BulletedListNormal"> must have the type message or Node. </span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_BulletedListNormal">the expression on the right must be of type string, double or date.</span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_BulletedListNormal">the right side expression is converted to a string and then set as text value of the node on the left.</span></p><p class="p_Normal">You can use XPath expressions to reference elements in the source message as well as to reference elements of the target structure if you want to assign values to it. Nodes missing in the target will be created automatically. </p>
<p class="p_Normal">E.g. if you write the statement</p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid; margin: 0px 0px 0px 26px;"><span class="f_CodeExample" style="background-color: #dce6f2;">$MSG/first/second/third = &quot;hello&quot;;</span></p>
<p class="p_Normal">then the missing nodes <span class="f_Emphasize">first</span>, <span class="f_Emphasize">second</span> and <span class="f_Emphasize">third</span> will be created. The node <span class="f_Emphasize">third</span> then receives the text value <span class="f_Emphasize">hello</span>.</p>
<p class="p_Subheading"><span class="f_Subheading">Using message namespaces</span></p>
<p class="p_Normal">Element names within XML documents may be qualified by a namespace. Within an XPath expression you always have to use a prefix to denote a namespace. The meaning of these prefixes have to be defined in the top area of the mapping editor named <span class="f_buttonslabelsetc">Java &amp; namespace</span>. Here you have to set the prefix / namespace pairs you want to use in your mapping. They are then automatically written as namespace declarations into the root element of the generated DOM tree.</p>
<p class="p_Subheading"><span class="f_Subheading">Using loops to traverse the source message and build the target message</span></p>
<p class="p_Normal">A more elaborate example is shown in the following picture:</p>
<p class="p_Normal"><img alt="designer_mapping_procedural_example_loops1" width="651" height="416" style="margin:0;width:651px;height:416px;border:none" src="designer_mapping_procedural_example_loops1.png"/></p>
<p class="p_Normal">This example shows in the <span class="f_buttonslabelsetc">Parameters</span> area an additional variable <span class="f_Emphasize">projectnr</span>. Because an <span class="f_Emphasize">Extended Java mapping</span> is basically Java code you also might define a local variable in the editor area like the variable <span class="f_Emphasize">empName</span> in our example. But then the variable is not visible to the XPath engine. Because the variable <span class="f_Emphasize">projectnr</span> is used in the XPath expression <span class="f_CodeExample">$SRC/Project[projectnr=$projectnr]/customerid</span>, it must be defined in the <span class="f_buttonslabelsetc">Parameters</span> area.</p>
<p class="p_Normal">The example shows how to build up a structured message using two nested loops. This resembles the structure of the source message type having two levels.</p>
<p class="p_Normal">The outer loop runs through the set of all Employee nodes using a for loop. Then the name of the Employee is build using two simple XPaths.</p>
<p class="p_Normal">The inner loop then runs through every Record under the current Employee node.</p>
<p class="p_Subheading"><span class="f_Subheading">Using the option Typed target</span></p>
<p class="p_Normal">In an <span class="f_Emphasize">Extended Java mapping</span> you define a procedure creating the target message structure. This procedure creates the message independently of the structure which is defined in the message type. To be sure that the created message actually resembles the structure of the message type selected as target message type you may select the check box typed target.<img alt="designer_mapping_procedural_typed_target_box" width="113" height="25" style="margin:0;width:113px;height:25px;border:none" src="designer_mapping_procedural_typed_target_box.png"/></p>
<p class="p_Subheading"><a id="designer_mapping_procedural_register_message" class="hmanchor"></a><span class="f_Subheading">Accessing messages not declared as message variables</span></p>
<p class="p_Normal">If you acquire a message within the mapping script, e.g. by calling a channel you have to register the message to the XPath engine before you can access the message content through XPath.</p>
<p class="p_Normal">The input message is automatically registered.</p>
<p class="p_Normal">E.g. if you created a proxy called lookup_Doctor(String eanNr) you might call this proxy in the mapping:</p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid; margin: 0px 0px 0px 13px;"><span class="f_CodeExample" style="background-color: #dce6f2;">DOCTOR_MSG = my.com.AdptProxy.lookup_Doctor(EAN_NR);</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid; margin: 0px 0px 0px 13px;"><span class="f_CodeExample">&nbsp;</span></p>
<p class="p_Normal">Before you can call an XPath on that message you must write:</p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid; margin: 0px 0px 0px 13px;"><span class="f_CodeExample" style="background-color: #dce6f2;">registerMessage(&quot;DOCTOR_MSG&quot;, DOCTOR_MSG );</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid; margin: 0px 0px 0px 13px;"><span class="f_CodeExample">&nbsp;</span></p>
<p class="p_Normal">Now you can apply the XPath, e.g.:</p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid; margin: 0px 0px 0px 13px;"><span class="f_CodeExample" style="background-color: #dce6f2;">$DOCTOR_MSG/tns:PV1/tns:PV1.7/tns:XCN.1 = $ARZTMSG/Triamed_Arzt/SAP_ArztNr;&nbsp;</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">&nbsp;</span></p>
<h2 class="p_Heading2"><a id="designer_mapping_procedural_functions" class="hmanchor"></a><span class="f_Heading2">Available functions</span></h2>
<p class="p_Bulletedtopiclist">In the  <span class="f_Emphasize">Extended Java mapping</span> you can use a set of  <a href="designer_mapping_functions.html" class="topiclink">predefined mapping functions</a>. These functions are implemented as static methods of the class <span class="f_CodeExample">InternalMappingFunctions</span>. For each mapping a Java class is generated which inherits from the base class <span class="f_CodeExample">ProceduralMapping</span> which in turn inherits from <span class="f_CodeExample">InternalMappingFunctions</span>. &nbsp;<br />
The following additional methods are defined in <span class="f_CodeExample">ProceduralMapping </span>which may be useful in an <span class="f_Emphasize">Extended Java mapping</span>.</p>
<p class="p_Subheading"><span class="f_Subheading">Getting the value of a DOM node</span></p>
<p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_CodeExample">String asString(NodeSet nodeset)</span><span class="f_BulletedListNormal"> convert a node set according to the XPath rules into a string. If the node set contains only one node the text content of the node is returned.</span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_CodeExample">Double asDouble(NodeSet nodeset)</span><span class="f_BulletedListNormal"> convert a node set according to the XPath rules into a numeric value, specifically into a floating point number of type double.</span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_CodeExample">Long asLong(NodeSet nodeset)</span><span class="f_BulletedListNormal"> convert a node set according to the XPath rules into a integral value of type Long. If the node set is empty return null. Throws an Exception if the string value doesn't represent a valid integral number.</span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_CodeExample">int asInt(NodeSet nodeset)</span><span class="f_BulletedListNormal"> convert a node set according to the XPath rules into a integral value of type int. Throws an Exception if the node set is empty or if the string value doesn't represent a valid integral number.</span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_CodeExample">Node asNode(Object value)</span><span class="f_BulletedListNormal"> value muss ein Node, ein NodeSet oder eine Message sein. Die Funtion liefert den ersten Knoten der Knotenmenge bzw. den Wurzelknoten der Message.</span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; page-break-inside: avoid; page-break-after: avoid; padding: 0px 0px 0px 23px; margin: 0px 0px 0px 0px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_CodeExample">NodeSet selectR (Message msg, XPath path)</span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; page-break-inside: avoid; page-break-after: avoid; padding: 0px 0px 0px 23px; margin: 0px 0px 0px 0px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_CodeExample">NodeSet selectR (Node node, XPath path)</span>wendet den XPath auf den Knoten node bzw. den Wurzelknoten der msg an und liefern die resultierende Knotenmenge. Diese Statements werden in der Regel aus eingebetteten XPath-Ausdrücken generiert. Die verwendeten Präfixe für Namespaces müssen im Mapping-Editor deklariert worden sein.</p><p style="text-align: left; text-indent: 0px; line-height: 1.80; page-break-inside: avoid; page-break-after: avoid; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 0px;"><span style="font-size:13px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_CodeExample">NodeSet selectChildrenR (Message msg, String namespace, String tagName)</span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_CodeExample">NodeSet selectChildrenR (Node elemParent, String namespace, String tagName)</span> liefert die Menge aller Kinder des Wurzelknotens mit dem gegebenen Namen. Wenn das namespace-Argument null ist, dann wird versucht, den Namespace anhand des Präfixes im tagName-Argument aus den Namespace-Deklarationen zu ermitteln, die im Mapping-Editor deklariert wurden.</p><p class="p_Subheading"><span class="f_Subheading">Adding and removing Nodes in the DOM tree</span></p>
<p class="p_Normal">The following functions serve to remove and add nodes to the target DOM tree. They are not allowed on the source message of the mapping because in Orchestra a message must never be changed.</p>
<p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_CodeExample">void remove(NodeSet nodes)</span><span class="f_BulletedListNormal"> remove all nodes of the node set from a DOM tree. </span><br />
<span class="f_BulletedListNormal">Typically this is used together with an XPath e.g. </span><span class="f_CodeExample">remove($MSG/tns:Record[tns:ident=$RID]/tns:name)</span><span class="f_BulletedListNormal"> to remove the name field of a specific Record node.</span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_CodeExample">void remove(Node nodes)</span><span class="f_BulletedListNormal"> remove a node from a DOM tree. Only allowed on the target message.</span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_CodeExample">Element insertBefore(Node following, String namespace, String tagName)</span><span class="f_BulletedListNormal"> insert &nbsp;an new element in the DOM tree before a given node. </span><br />
<span class="f_BulletedListNormal">This may be helpful if you want to extend an existing message and need to add an element at a particular position. Typically this is used after an XPath assignment $MSG = $SRC. </span><br />
<span class="f_BulletedListNormal">When you &nbsp;use the Typed target mode this is hardly ever necessary because the Typed target mode inserts nodes at the correct position according to the message type.</span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_CodeExample">Element appendChild (Message message, String namespace, String tagName)</span><span class="f_BulletedListNormal"> add a new node to the end of the message, that means as last child of the root node; returns the new node (an Object of type org.w3c.dom.Node)</span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_CodeExample">Element appendChild (NodeSet nodes, String namespace, String tagName)</span><span class="f_BulletedListNormal"> add a new node as last child node to the first node in the node set; returns the new node. The node set must contain exactly one node. If not an Exception is thrown. Typically this method is called implicitly by the preprocessor. E.g. you can apply the XPath </span><span class="f_CodeExample">$NODE/Record/Person</span><span class="f_BulletedListNormal"> using the code </span><span class="f_CodeExample">appendChild($NODE/Record/Person)</span><span class="f_BulletedListNormal">. The preprocessor then will create the source code </span><span class="f_CodeExample">appendChild(selectL(NODE, new BaseXPath(&quot;Record&quot;)), null, &quot;Person&quot;)</span><span class="f_BulletedListNormal">.</span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_CodeExample">Element appendChild(Node parent, String namespace, String tagName)</span><span class="f_BulletedListNormal"> add a new node as last child node to the given parent node and return the new node. </span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_CodeExample">Element appendChild(NodeSet nodes, String namespace, String tagName, String value)</span><span class="f_BulletedListNormal"> add a new node with the given text value as last child node to the node in the node set and return it. The node set must contain exactly one node. If not an Exception is thrown.</span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_CodeExample">Element appendChild (Node parent, String namespace, String tagName, String value)</span><span class="f_BulletedListNormal"> add a new node with the given text value as last child node to the given parent node and return the new node. </span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_CodeExample">Element addChildElement(NodeSet nodes, String namespace, String tagName)</span><span class="f_BulletedListNormal"> The node set must contain exactly one node. Typically this method is called using an XPath e.g. </span><span class="f_CodeExample">addChildElement($NODE/Record, &quot;&quot;, &quot;Person&quot;)</span><span class="f_BulletedListNormal">. In </span><span class="f_Emphasize">typed target</span><span class="f_BulletedListNormal"> mode a new element is added to the first node of the node set at the appropriate position. If </span><span class="f_Emphasize">typed target </span><span class="f_BulletedListNormal">is not set is simply calls </span><span class="f_CodeExample">appendChild</span><span class="f_BulletedListNormal">. </span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_CodeExample">Element addChildElement(Node parent, String namespace, String tagName)</span><span class="f_BulletedListNormal"> In </span><span class="f_Emphasize">typed target</span><span class="f_BulletedListNormal"> mode a new element is added to the node at the appropriate position (according to the message type). If </span><span class="f_Emphasize">typed target </span><span class="f_BulletedListNormal">is not set is simply calls </span><span class="f_CodeExample">appendChild</span><span class="f_BulletedListNormal">. </span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_CodeExample">Element createElement (Document doc, String namespace, String tagName)</span><span class="f_BulletedListNormal"> Rarely used because normally you use XPath or the methods </span><span class="f_CodeExample">appendChild</span><span class="f_BulletedListNormal"> or </span><span class="f_CodeExample">addChildElement</span><span class="f_BulletedListNormal"> to add a new Element. Actually </span><span class="f_CodeExample">createElement</span><span class="f_BulletedListNormal"> is called implicitly by these methods.</span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; page-break-inside: avoid; page-break-after: avoid; padding: 0px 0px 0px 23px; margin: 0px 0px 0px 0px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_CodeExample">NodeSet selectL (Message msg, XPath path)</span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_CodeExample">NodeSet selectL (Node node, XPath path)</span><span class="f_BulletedListNormal">wendet den XPath auf den Knoten node bzw. den Wurzelknoten der msg an und liefert die resultierende Knotenmenge. Existiert ein Knotenname, der im XPath referenziert wird, im Dokument nicht, dann wird er automatisch erzeugt! Diese Statements werden in der Regel aus eingebetteten XPath-Zuweisungen generiert. Die verwendeten Präfixe für Namespaces müssen im Mapping-Editor deklariert worden sein.</span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; page-break-inside: avoid; page-break-after: avoid; padding: 0px 0px 0px 23px; margin: 0px 0px 0px 0px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_CodeExample">NodeSet selectChildrenL (Message msg, String namespace, String tagName)</span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_CodeExample">NodeSet selectChildrenL (Node elemParent, String namespace, String tagName)</span><span class="f_BulletedListNormal"> liefert die Menge aller Kinder des Wurzelknotens mit dem gegebenen Namen. Wenn das namespace-Argument null ist, dann wird versucht, den Namespace anhand des Präfixes im tagName-Argument aus den Namespace-Deklarationen zu ermitteln, die im Mapping-Editor deklariert wurden. &nbsp;Existiert kein Kind mit dem gegebenen Namen, dann wird ein Kinknoten mit dem Namen angelegt.</span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_CodeExample">void assign (NodeSet target, NodeSet source)</span><span class="f_BulletedListNormal"> jeder Knoten aus der Knotenmenge erhält einen neuen Inhalt der aus dem ersten Knoten des source-Arguments kopiert wird. Ist source leer, wird nichts gemacht, hat source mehr als einen Knoten, dann wird eine Exception geworfen. Aufrufe dieser Methode werden generiert, wenn im Quellcode Zuweisungen der Form $DST = $SRC stehen.</span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_CodeExample">void assign (NodeSet target, Node sourceNode)</span><span class="f_BulletedListNormal"> jeder Knoten aus der Knotenmenge erhält einen neuen Inhalt der aus dem sourceNode kopiert wird.</span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_CodeExample">void assign (NodeSet target, Number value)</span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_CodeExample">void assign (NodeSet target, XMLGregorianCalendar value)</span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_CodeExample">void assign (NodeSet target, int value)</span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_CodeExample">void assign (NodeSet target, String value)</span><span class="f_BulletedListNormal"> jeder Knoten aus der Knotenmenge erhält das value-Argument als neuen Text-Inhalt.</span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_CodeExample">void copyContent (Node target, Node source, boolean inheritNs)</span><span class="f_BulletedListNormal"> kopiert den kompletten Inhalt des source-Knotens in den target-Knoten. In der Regel sollte man die Zuweisung $target = $source vorziehen. Die Methode kann sinnvoll sein, wenn während des Kopierens der Namspace angepasst werden soll. Dann setzt man den Parameter inheritsNs auf true. Dann wird die Struktur der Quelle kopiert, aber jeder Kindknoten erhält den Namespace des target-Knotens.</span></p><p class="p_Subheading"><span class="f_Subheading">Other functions</span></p>
<p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_CodeExample">Document getDocument(Message msg)</span><span class="f_BulletedListNormal"> get the DOM tree stored in the message. It is represented by an object of class </span><span class="f_CodeExample">org.w3c.dom.Document.</span><span class="f_BulletedListNormal"> Necessary if you want to access the DOM tree using plain java.</span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_CodeExample">boolean exists(NodeSet nodeset)</span><span class="f_BulletedListNormal"> Check if a node exists, that means if a node set is empty. </span><br />
<span class="f_BulletedListNormal">This method is typically used together with an XPath, e.g. </span><span class="f_CodeExample">if (exists($node/ns0:ident)) { String ident = asString($node/ns0:ident); } </span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_CodeExample">int count(NodeSet nodeset)</span> return the number of elements in a node set.<br />
This<span class="f_BulletedListNormal"> method is typically used together with an XPath, e.g. </span><span class="f_CodeExample">int recordCount = count($node/Record);</span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_CodeExample">void registerMessage(String varname, Message msg)</span><span class="f_BulletedListNormal"> If you want to access a message using XPath you must register the message at the XPath engine using this function. For all the messages being parameters of the mapping this is done automatically as well as for the target message. But if you acquire a message through any other means, e.g. by calling a channel, you must call this method.</span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_CodeExample">String stringJoin(NodeSet nodes, String delimiter)</span><span class="f_BulletedListNormal"> join the text values of the nodes contained in the node set. The values are delimited by the given delimiter in the result.</span></p>
<!--ZOOMSTOP-->


</div> <!-- idcontent -->
</div><!-- hmbox --> 
</body>
</html>
