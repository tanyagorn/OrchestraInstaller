<!DOCTYPE html>
<html>
<head>
   <title>TCP-Server</title>
   <meta http-equiv="X-UA-Compatible" content="IE=edge" />
   <meta name="viewport" content="width=device-width, user-scalable=yes, initial-scale=1, minimum-scale=1" />
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="" />
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
   <meta http-equiv="content-language" content="en-us" />
   <meta name="description" content="Description This channel implements an simple TCP-Server that can be used to implement user-defined TCP/IP-Protocols for receiving data from any external client. The channel..." />
   <meta http-equiv="Content-Style-Type" content="text/css" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <link id="tabscheme" type="text/css" href="hm_topic.css" rel="stylesheet" />   
<style type="text/css">
/* No header topics */

/* Breadcrumb trail */
p#breadcrumbs {
font-family: Verdana, Tahoma, Helvetica, Sans-Serif;   padding: 2px 0 1px 2px;
   margin: 0;
   font-size: 8pt; 
   color: #999;
   }   
p#breadcrumbs a { color: #999; text-decoration: none;}
p#breadcrumbs a:visited {color: #999;}
p#breadcrumbs a:hover { color: #333; border-bottom: 1px dotted #333; }

/* Search hightlight color */
span.highlight {background-color: #ffff40;}
</style>
<script type="text/javascript">
var hmHeaderTopic = true;

</script> 
<!--[if IE 9]>
<link id="iesvgcss" rel="stylesheet" type="text/css" href="hm_webhelp_svg.css" />
<![endif]-->	
<script src="jquery.js"></script>
<script type="text/javascript" src="jquery.tools.min.js"></script>
<script type="text/javascript" src="jquery.scrollTo-min.js"></script>
<script type="text/javascript"> 
// General topic variables
var tVars = {
   hmHelpPage: "index.html",
   nextP: "designer_channel_outbound.html",
   prevP: "webdav-listener.html",
   currP: "tcp-server.html",
   descr: "Description This channel implements an simple TCP-Server that can be used to implement user-defined TCP/IP-Protocols for receiving data from any external client. The channel...",
   keys: "",
   defP: "designer_channel_inbound.html",
   mailUrl: "",
   mailUrlQuery: "",
   projectTitle: "Documentation",
   titleP: "TCP-Server",
   mailsubject: "Your feedback: Documentation - TCP Server",
   sharesubject: "Documentation - TCP Server",
   simplesubject: "Documentation%20Feedback",
   mailid: "TCP-Server",
   mailpath: "Orchestra Documentation &gt; Reference Manual &gt; Designer Reference &gt; Scenario Elements &gt; Channels &gt; Inbound &gt; Simple TCP Listener /",
   mailbody: "",
   fbtype: false,
   header: true,
   background: "spacer.gif",
   tablesReady: false,
   togglesReady: false,
   webRedirect: true,
   topicTitleBar: true,
   titleBarContent: "topic",
   printFooter: true,
   zoomTip: "Click here to view image in its original size",
   autoPrint: true,
   printButton: "Print",
   printButtonTip: "Print topic"
   }
// Popup configuration
 var hmpBShadow = true;
 var hmPopSmallDim = 500;
 var hmPopKillVideo = true;
 // AutoTOC variables
 var hmatocvars = {
   atoc_show: true,
   atoc_title: "Topic content",
   atoc_tip: "Navigate to:&nbsp;",
   atoc_minHeaders: 3,
   atoc_btntip_off: "No topiv headers on this site",
   atoc_btntip_on: "Show/hide topic menu",
   atoc_toptip: "Navigate to beginning of page",
   atoc_top: "Beginning of page",
   atoc_bg: "#f6f6f6",
   atoc_border: "silver",
   atoc_linkcolor: "#444",
   atoc_linklimit: 45,
   atoc_hovercolor: "#000",
   atoc_hoverbgcolor: "#e0e0e0"
}
// Sortable tables
var sortVars = {
   europeandate: false,
   germanNumbers: false,
   imagePath: "",
   image_up: "arrow-up.gif",
   image_down: "arrow-down.gif",
   image_empty: "arrow-empty.gif",
   image_none: "arrow-none.gif",
   sort_tip: "Click here to sort column",
   umlauts: "false"
   }

</script>


<script type="text/javascript" src="helpman_settings.js"></script>
<script type="text/javascript" src="helpman_topicinit.js"></script>
<script type="text/javascript" src="hmtopic.js"></script>

   <script type="text/javascript">
     HMSyncTOC("index.html", "tcp-server.html");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
<body>
<!-- Help & Manual Premium Pack templates by Tim Green, Copyright (c) 2011-2014, All Rights Reserved -->
<!--ZOOMSTOP-->



<ul id="topictabs" class="tabs">
<li id="indextab" class="hmtabs"><a href="#" id="indextablink" class="current"><span>TCP-Server</span></a></li>
</ul>
<div id="hmbox">
<div id="hmheader">
<div id="hmheadercontents">
<p id="breadcrumbs" class="sync-toc">
<b><span class="sync-toc"><a rel="nofollow" class="sync-toc-link" href="index.html?tcp-server.html" target="_top">&lt;&lt;&nbsp;Click here for table of contents&nbsp;&gt;&gt;</a>&nbsp;&nbsp;</span></b></p> 
<h1 class="p_Heading1"><span class="f_Heading1">TCP Server</span></h1>

</div>
<div id="atocIcon" class="navdivs">
<img class="navicon" id="hmAtocLink" src="contents_off.png" alt="No topiv headers on this site" title="No topiv headers on this site" />
<br /><span>Topic content</span>
</div>
</div>
<div id="autoTocWrapper" class="topicmenu"></div>
<div id="idcontent">
<div id="unclicker"></div>
<!--ZOOMRESTART-->
<h2 class="p_Heading2"><span class="f_Heading2">Description</span></h2>
<p class="p_Normal">This channel implements an simple TCP-Server that can be used to implement user-defined TCP/IP-Protocols for receiving data from any external client. The channel operates in synchronous and asynchronous mode. In the first mode data is received from an external client and an orchestra process is started that generates an answer. In asynchronous model only data is received from a client. No answer is sent back. </p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">The basic model of TCP/IP communication is stream oriented. This means a client can send a sequence of bytes that has to be treated by the server. Such a stream can be treated as one message or in contrast, within such a stream any number of different packets can be found. In latter mode, the protocol needs so called frames that define a logical border within the sequence of data. In default mode, orchestra assumes that all data from the client should be treated as one message. In user defined framing mode one can implement more complex protocols by defining the frame logic manually.</p>
<h2 class="p_Heading2"><span class="f_Heading2">Purpose of object</span></h2>
<p class="p_Normal">This channel can be used for:</p>
<p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span>Simple TCP/IP-Communication based on a s request/response protocol</p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span>User-Defined TCP/IP-Protocols based on user defined framing</p><h2 class="p_Heading2"><span class="f_Heading2">Creation</span></h2>
<p class="p_Normal">To create a <span class="f_Emphasize">Simple TCP Listener</span> follow the steps described in the general description of <a href="channels.html#create_new_channel" class="topiclink" title="how to create a new channel">Channels</a></p>
<h2 class="p_Heading2"><span class="f_Heading2">Configuration</span></h2>
<p class="p_Normal">The following dialog describes the configuration settings of the channel:</p>
<p class="p_Normal"><img alt="designer_config_simple_tcp_listener" width="788" height="281" style="margin:0;width:788px;height:281px;border:none" src="designer_config_simple_tcp_listener.png"/></p>
<p class="p_Normal" style="text-align: center;">&nbsp;</p>
<p class="p_Normal"><span style="font-weight: bold;">Mode:</span></p>
<p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span>Asynchronous: a process is only invoked</p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span>Synchronous: a process is invoked, it will be waited untill it finished. The result of the process is sent back to the invoking client</p><p class="p_Normal"><span style="font-weight: bold;">Connection test: </span></p>
<p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span>Raise event on client connect or error: Orchestra reports every change in the connection state as system event</p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span>Raise event on error: Orchestra reports only errors as system event</p><p class="p_Normal"><span style="font-weight: bold;">TCP/IP-Endpoint:</span></p>
<p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span>Choose an tcp/ip-endpoint that is used for waiting on igoing tcp/ip-connections</p><p class="p_Normal"><span style="font-weight: bold;">Synchronous timeout: </span></p>
<p class="p_Normal">Choose the maximal duration within Orchestra must answer a message. If the process model doesn't send a message in this duration an error will be raised.</p>
<p class="p_Normal"><span style="font-weight: bold;">Network frame handling: </span></p>
<p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span>Defines the way how orchestra should interpret the ingoing data</p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span>In default mode, all data is read from the underlying socket until the socket (inputstream of the socket) is closed/empty.</p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span>In user defined mode the user himself can define how orchestra should detect frames within the data stream. Whenever a frame is detected, the data is deserialized and an orchestra process is started. In this mode, an arbitrary number of frames can be detected. This mode is like a connection oriented protocol. Once a connection is established any sequence of frames/packets can be received.</p><p class="p_Normal"><span style="font-weight: bold;">Message handling:</span></p>
<p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span>Defines how orchestra should treat the content transfer over the network connection. </p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span>Within the section inbound processing, the format of the ingoing messages is defined. On basis of the configured de-serializer on orchestra message is generated by parsing the content an representing it as an orchestra message</p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span>Withing the section outbound processing, the format of the response data is defined. In synchronous mode, the result message of a process is serialized by applying the configured serialization settings.</p><p class="p_Normal">&nbsp;</p>
<p class="p_Normal"><span style="font-weight: bold;">User defined frame handling:</span></p>
<p class="p_Normal">When user defined frame handling has to be implemented the following base interface has to be implemented.</p>
<div style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 10px;"><table style="border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; background-color:#a4bddd; padding:2px; border-color:#cdd7e4 #365f91 #365f91 #cdd7e4; border-style:solid; border-width:thin;"><p class="p_Normal">&nbsp;</p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">package</span><span style="font-size: 13px; font-family: 'Courier New';"> emds.epi.impl.adapter.tcpserver;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">import</span><span style="font-size: 13px; font-family: 'Courier New';"> java.io.IOException;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">import</span><span style="font-size: 13px; font-family: 'Courier New';"> java.io.InputStream;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">import</span><span style="font-size: 13px; font-family: 'Courier New';"> java.io.OutputStream;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">import</span><span style="font-size: 13px; font-family: 'Courier New';"> java.net.Socket;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">import</span><span style="font-size: 13px; font-family: 'Courier New';"> emds.epi.decl.server.message.Message;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">import</span><span style="font-size: 13px; font-family: 'Courier New';"> emds.epi.decl.server.processengine.ErrorObject;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;">/**</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * Base interface that can be used to implement user defined </span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf; text-decoration: underline;">tcp</span><span style="font-size: 13px; font-family: 'Courier New'; color: #7f7f9f;">-</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf; text-decoration: underline;">ip</span><span style="font-size: 13px; font-family: 'Courier New'; color: #7f7f9f;">-</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf; text-decoration: underline;">protocolls</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * </span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f9fbf;">@author</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> </span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf; text-decoration: underline;">Bernd</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> </span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf; text-decoration: underline;">Hafenrichter</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> *</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * History</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * =======</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * 27.06.2017 BHA Created</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> */</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">public</span><span style="font-size: 13px; font-family: 'Courier New';"> </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">interface</span><span style="font-size: 13px; font-family: 'Courier New';"> TCPIPProtocollHandler {</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;">/**</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * Returns an input stream that can be used to read data from the underlying </span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf; text-decoration: underline;">tcp</span><span style="font-size: 13px; font-family: 'Courier New'; color: #7f7f9f;">-</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;">socket stream.</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * If the </span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf; text-decoration: underline;">tcp</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> communication is packet oriented, it may return a decorated stream for each</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * packet of the outer stream. If null is returned the client terminates </span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * </span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f9fbf;">@param</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> baseTCPStream</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f9fbf;">@return</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> */</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">public</span><span style="font-size: 13px; font-family: 'Courier New';"> InputStream readNextPacket( Socket </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">socket</span><span style="font-size: 13px; font-family: 'Courier New';">, InputStream </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">baseTCPStream</span><span style="font-size: 13px; font-family: 'Courier New';"> ) </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">throws</span><span style="font-size: 13px; font-family: 'Courier New';"> IOException;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;">/**</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * This method is invoked when a process is successful completed during an synchronous execution. </span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * It gives the protocol handler the changes to write back an application specific result</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * &nbsp;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f9fbf;">@param</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> socket The original socket that belongs to the current connection. This may be null.</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f9fbf;">@param</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> requestMessage The request message that initially sent from the client. This may be null.</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f9fbf;">@param</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> responseMessage The response message generated by the orchestra process. (May be null in case of an process error)</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f9fbf;">@param</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> baseTCPStream The original output stream that can be decorated to support more complex protocol</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f9fbf;">@param</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> result The result of the process execution</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f9fbf;">@param</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> responseHandler Callback interface that must be invoked by any implementation in order to write </span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * &nbsp; &nbsp; &nbsp; &nbsp;the </span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf; text-decoration: underline;">payload</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> of the response to the output.</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f9fbf;">@return</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> */</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">public</span><span style="font-size: 13px; font-family: 'Courier New';"> </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">void</span><span style="font-size: 13px; font-family: 'Courier New';"> writeResponseOnSuccess( Socket </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">socket</span><span style="font-size: 13px; font-family: 'Courier New';">, Message </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">requestMessage</span><span style="font-size: 13px; font-family: 'Courier New';">, Message </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">responseMessage</span><span style="font-size: 13px; font-family: 'Courier New';">, OutputStream </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">baseTCPStream</span><span style="font-size: 13px; font-family: 'Courier New';">, TCPResponseHandler </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">responseHandler</span><span style="font-size: 13px; font-family: 'Courier New';"> ) </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">throws</span><span style="font-size: 13px; font-family: 'Courier New';"> IOException;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;">/**</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * This method is invoked when a process ends with an error during synchronous execution. </span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * It gives the protocol handler the changes to write an appropriate error message the caller </span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * </span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f9fbf;">@param</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> socket The original socket that belongs to the current connection. This may be null.</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f9fbf;">@param</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> requestMessage The request message that initially sent from the client. This may be null.</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f9fbf;">@param</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> responseMessage The response message generated by the orchestra process. (May be null in case of an process error)</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f9fbf;">@param</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> baseTCPStream The original output stream that can be decorated to support more complex protocol</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f9fbf;">@param</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> result The result of the process execution</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f9fbf;">@param</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> responseHandler Callback interface that must be invoked by any implementation in order to write </span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * &nbsp; &nbsp; &nbsp; &nbsp;the </span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf; text-decoration: underline;">payload</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> of the response to the output.</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f9fbf;">@return</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> */</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">public</span><span style="font-size: 13px; font-family: 'Courier New';"> </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">void</span><span style="font-size: 13px; font-family: 'Courier New';"> writeResponseOnErrror( Socket </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">socket</span><span style="font-size: 13px; font-family: 'Courier New';">, Message </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">requestMessage</span><span style="font-size: 13px; font-family: 'Courier New';">, Message </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">responseMessage</span><span style="font-size: 13px; font-family: 'Courier New';">, OutputStream </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">baseTCPStream</span><span style="font-size: 13px; font-family: 'Courier New';">, TCPResponseHandler </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">responseHandler</span><span style="font-size: 13px; font-family: 'Courier New';">, ErrorObject </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">errorObject</span><span style="font-size: 13px; font-family: 'Courier New';"> ) </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">throws</span><span style="font-size: 13px; font-family: 'Courier New';"> IOException;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;">/**</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * In case of a general error this method is invoked. It belongs to the method itself to write any kind</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * of error information to the caller.</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * </span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f9fbf;">@param</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> socket The </span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf; text-decoration: underline;">orignal</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> socket that belongs to the current connection. This may be null.</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f9fbf;">@param</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> requestMessage The request message that initially sent from the client. This may be null.</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f9fbf;">@param</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> responseMessage The response message generated by the orchestra process. May be null.</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f9fbf;">@param</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> baseTCPStream The original </span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf; text-decoration: underline;">outputstream</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> that can be decorated to support more complex </span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf; text-decoration: underline;">protocoll</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f9fbf;">@param</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> exception The exception that was thrown during a </span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf; text-decoration: underline;">protocoll</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> handling</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f9fbf;">@param</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> lastAction The action that was ongoing before the error was thrown</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f9fbf;">@return</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> true </span><span style="font-size: 13px; font-family: 'Courier New'; color: #7f7f9f;">--&gt;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> keep connection open., false </span><span style="font-size: 13px; font-family: 'Courier New'; color: #7f7f9f;">--&gt;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> make a disconnect in order to re</span><span style="font-size: 13px; font-family: 'Courier New'; color: #7f7f9f;">-</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;">initiate the connection</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> */</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">public</span><span style="font-size: 13px; font-family: 'Courier New';"> </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">boolean</span><span style="font-size: 13px; font-family: 'Courier New';"> writeResponseOnException( Socket </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">socket</span><span style="font-size: 13px; font-family: 'Courier New';">, Message </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">requestMessage</span><span style="font-size: 13px; font-family: 'Courier New';">, Message </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">responseMessage</span><span style="font-size: 13px; font-family: 'Courier New';">, &nbsp;OutputStream </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">baseTCPStream</span><span style="font-size: 13px; font-family: 'Courier New';">, Exception </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">exception</span><span style="font-size: 13px; font-family: 'Courier New';">, String </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">lastAction</span><span style="font-size: 13px; font-family: 'Courier New';"> );</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: 'Courier New';">}</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p class="p_Normal">&nbsp;</p>
</td>
</tr>
</table>
</div>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">The following sample code demonstrates how a simple frame protocol can be implemented. The protocol is defined as follows:</p>
<p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span>A frame is started by a leading 1-byte</p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span>A frame is ended by a trailing 0-byte</p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span>The framing is &nbsp;used for request and response message. This means all messages, sent back to the client, are also frame.</p><p class="p_Normal">&nbsp;</p>
<div style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 10px;"><table style="border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; background-color:#a4bddd; padding:2px; border-color:#cdd7e4 #365f91 #365f91 #cdd7e4; border-style:solid; border-width:thin;"><p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">package</span><span style="font-size: 13px; font-family: 'Courier New';"> soffico.test.framehandler;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">import</span><span style="font-size: 13px; font-family: 'Courier New';"> java.io.FilterInputStream;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">import</span><span style="font-size: 13px; font-family: 'Courier New';"> java.io.IOException;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">import</span><span style="font-size: 13px; font-family: 'Courier New';"> java.io.InputStream;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">import</span><span style="font-size: 13px; font-family: 'Courier New';"> java.io.OutputStream;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">import</span><span style="font-size: 13px; font-family: 'Courier New';"> java.net.Socket;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: 'Courier New';">&nbsp;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">import</span><span style="font-size: 13px; font-family: 'Courier New';"> emds.epi.decl.server.message.Message;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">import</span><span style="font-size: 13px; font-family: 'Courier New';"> emds.epi.decl.server.processengine.ErrorObject;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">import</span><span style="font-size: 13px; font-family: 'Courier New';"> emds.epi.impl.adapter.tcpserver.TCPIPProtocollHandler;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">import </span><span style="font-size: 13px; font-family: 'Courier New';">emds.epi.impl.adapter.tcpserver.TCPResponseHandler;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">public</span><span style="font-size: 13px; font-family: 'Courier New';"> </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">class</span><span style="font-size: 13px; font-family: 'Courier New';"> ZeroByteFrameHandler  </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">implements</span><span style="font-size: 13px; font-family: 'Courier New';"> TCPIPProtocollHandler {</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: 'Courier New';"> &nbsp;  </span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f7f5f;">/* ************************************************************</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: 'Courier New'; color: #3f7f5f;"> &nbsp; &nbsp; * Internal variable used for generation of </span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f7f5f; text-decoration: underline;">proxy</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f7f5f;"> functions. </span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: 'Courier New'; color: #3f7f5f;"> &nbsp; &nbsp; * Do not remove or change this line</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: 'Courier New'; color: #3f7f5f;"> &nbsp; &nbsp; * ************************************************************/ &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: 'Courier New';"> &nbsp;  </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">final</span><span style="font-size: 13px; font-family: 'Courier New';"> </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">static</span><span style="font-size: 13px; font-family: 'Courier New';"> Class </span><span style="font-size: 13px; font-family: 'Courier New'; font-style: italic; font-weight: bold; color: #0000c0;">JAVACLASS</span><span style="font-size: 13px; font-family: 'Courier New';"> = ZeroByteFrameHandler.</span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">class</span><span style="font-size: 13px; font-family: 'Courier New';">;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;">/**</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * Returns an input stream that can be used to read data from the underlying </span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf; text-decoration: underline;">tcp</span><span style="font-size: 13px; font-family: 'Courier New'; color: #7f7f9f;">-</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;">socket stream.</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * If the </span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf; text-decoration: underline;">tcp</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> communication is packet oriented, it may return a decorated stream for each</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * packet of the outer stream. If null is returned the client terminates </span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * </span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f9fbf;">@param</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> baseTCPStream</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f9fbf;">@return</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> */</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New';"> </span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #646464;">@Override</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">public</span><span style="font-size: 13px; font-family: 'Courier New';"> InputStream readNextPacket( Socket </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">socket</span><span style="font-size: 13px; font-family: 'Courier New';">, InputStream </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">baseTCPStream</span><span style="font-size: 13px; font-family: 'Courier New';"> ) </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">throws</span><span style="font-size: 13px; font-family: 'Courier New';"> IOException &nbsp;{</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp;</p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">int</span><span style="font-size: 13px; font-family: 'Courier New';"> </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">value</span><span style="font-size: 13px; font-family: 'Courier New';"> = </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">baseTCPStream</span><span style="font-size: 13px; font-family: 'Courier New';">.read();</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">if</span><span style="font-size: 13px; font-family: 'Courier New';">( </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">value</span><span style="font-size: 13px; font-family: 'Courier New';"> != &nbsp;1 ) {</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">return</span><span style="font-size: 13px; font-family: 'Courier New';"> </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">null</span><span style="font-size: 13px; font-family: 'Courier New';">;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 13px; font-family: 'Courier New';">}</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">return</span><span style="font-size: 13px; font-family: 'Courier New';"> </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">new</span><span style="font-size: 13px; font-family: 'Courier New';"> FilterInputStream( </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">baseTCPStream</span><span style="font-size: 13px; font-family: 'Courier New';"> ) {</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">boolean</span><span style="font-size: 13px; font-family: 'Courier New';"> </span><span style="font-size: 13px; font-family: 'Courier New'; color: #0000c0;">lastWastEOF</span><span style="font-size: 13px; font-family: 'Courier New';"> = </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">false</span><span style="font-size: 13px; font-family: 'Courier New';">;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">public</span><span style="font-size: 13px; font-family: 'Courier New';"> </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">int</span><span style="font-size: 13px; font-family: 'Courier New';"> read() </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">throws</span><span style="font-size: 13px; font-family: 'Courier New';"> IOException{</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 13px; font-family: 'Courier New';"> &nbsp;  </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">if</span><span style="font-size: 13px; font-family: 'Courier New';">( </span><span style="font-size: 13px; font-family: 'Courier New'; color: #0000c0;">lastWastEOF</span><span style="font-size: 13px; font-family: 'Courier New';"> ) {</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: 'Courier New';">  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;   &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">return</span><span style="font-size: 13px; font-family: 'Courier New';"> -1;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 13px; font-family: 'Courier New';"> &nbsp; &nbsp;} &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">int</span><span style="font-size: 13px; font-family: 'Courier New';"> </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">value</span><span style="font-size: 13px; font-family: 'Courier New';"> = </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">super</span><span style="font-size: 13px; font-family: 'Courier New';">.read();</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 13px; font-family: 'Courier New';">System.</span><span style="font-size: 13px; font-family: 'Courier New'; font-style: italic; font-weight: bold; color: #0000c0;">out</span><span style="font-size: 13px; font-family: 'Courier New';">.println( </span><span style="font-size: 13px; font-family: 'Courier New'; color: #2a00ff;">&quot;Read byte: &quot;</span><span style="font-size: 13px; font-family: 'Courier New';"> + </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">value</span><span style="font-size: 13px; font-family: 'Courier New';"> );</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">if</span><span style="font-size: 13px; font-family: 'Courier New';">( </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">value</span><span style="font-size: 13px; font-family: 'Courier New';"> == 0 ) {</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 13px; font-family: 'Courier New'; color: #0000c0;">lastWastEOF</span><span style="font-size: 13px; font-family: 'Courier New';"> = </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">true</span><span style="font-size: 13px; font-family: 'Courier New';">;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">return</span><span style="font-size: 13px; font-family: 'Courier New';"> -1;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 13px; font-family: 'Courier New';">}</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">return</span><span style="font-size: 13px; font-family: 'Courier New';"> </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">value</span><span style="font-size: 13px; font-family: 'Courier New';">;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 13px; font-family: 'Courier New';">}</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">public</span><span style="font-size: 13px; font-family: 'Courier New';"> </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">int</span><span style="font-size: 13px; font-family: 'Courier New';"> read(</span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">byte</span><span style="font-size: 13px; font-family: 'Courier New';">[] </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">b</span><span style="font-size: 13px; font-family: 'Courier New';">) </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">throws</span><span style="font-size: 13px; font-family: 'Courier New';"> IOException {</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp;</p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">if</span><span style="font-size: 13px; font-family: 'Courier New';">( </span><span style="font-size: 13px; font-family: 'Courier New'; color: #0000c0;">lastWastEOF</span><span style="font-size: 13px; font-family: 'Courier New';"> ) {</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: 'Courier New';">  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;   &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">return</span><span style="font-size: 13px; font-family: 'Courier New';"> -1;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 13px; font-family: 'Courier New';"> &nbsp; &nbsp;} &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">for</span><span style="font-size: 13px; font-family: 'Courier New';">( </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">int</span><span style="font-size: 13px; font-family: 'Courier New';"> </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">i</span><span style="font-size: 13px; font-family: 'Courier New';"> = 0; </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">i</span><span style="font-size: 13px; font-family: 'Courier New';"> &lt; </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">b</span><span style="font-size: 13px; font-family: 'Courier New';">.</span><span style="font-size: 13px; font-family: 'Courier New'; color: #0000c0;">length</span><span style="font-size: 13px; font-family: 'Courier New';">; </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">i</span><span style="font-size: 13px; font-family: 'Courier New';">++ ) {</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">int</span><span style="font-size: 13px; font-family: 'Courier New';"> </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">data</span><span style="font-size: 13px; font-family: 'Courier New';"> = &nbsp;read();</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">if</span><span style="font-size: 13px; font-family: 'Courier New';">( </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">data</span><span style="font-size: 13px; font-family: 'Courier New';"> == -1 ) {</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">return</span><span style="font-size: 13px; font-family: 'Courier New';"> </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">i</span><span style="font-size: 13px; font-family: 'Courier New';"> == 0 ? -1 : </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">i</span><span style="font-size: 13px; font-family: 'Courier New';">;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 13px; font-family: 'Courier New';">}</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">b</span><span style="font-size: 13px; font-family: 'Courier New';">[ </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">i</span><span style="font-size: 13px; font-family: 'Courier New';"> ] = (</span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">byte</span><span style="font-size: 13px; font-family: 'Courier New';">)</span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">data</span><span style="font-size: 13px; font-family: 'Courier New';">;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 13px; font-family: 'Courier New';">}</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">return</span><span style="font-size: 13px; font-family: 'Courier New';"> </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">b</span><span style="font-size: 13px; font-family: 'Courier New';">.</span><span style="font-size: 13px; font-family: 'Courier New'; color: #0000c0;">length</span><span style="font-size: 13px; font-family: 'Courier New';">;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 13px; font-family: 'Courier New';">}</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">public</span><span style="font-size: 13px; font-family: 'Courier New';"> </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">int</span><span style="font-size: 13px; font-family: 'Courier New';"> read(</span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">byte</span><span style="font-size: 13px; font-family: 'Courier New';">[] </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">b</span><span style="font-size: 13px; font-family: 'Courier New';">, </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">int</span><span style="font-size: 13px; font-family: 'Courier New';"> </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">off</span><span style="font-size: 13px; font-family: 'Courier New';">, </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">int</span><span style="font-size: 13px; font-family: 'Courier New';"> </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">len</span><span style="font-size: 13px; font-family: 'Courier New';">) </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">throws</span><span style="font-size: 13px; font-family: 'Courier New';"> IOException {</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">if</span><span style="font-size: 13px; font-family: 'Courier New';">( </span><span style="font-size: 13px; font-family: 'Courier New'; color: #0000c0;">lastWastEOF</span><span style="font-size: 13px; font-family: 'Courier New';"> ) {</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: 'Courier New';">  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;   &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">return</span><span style="font-size: 13px; font-family: 'Courier New';"> -1;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 13px; font-family: 'Courier New';"> &nbsp; &nbsp;} &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">for</span><span style="font-size: 13px; font-family: 'Courier New';">( </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">int</span><span style="font-size: 13px; font-family: 'Courier New';"> </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">i</span><span style="font-size: 13px; font-family: 'Courier New';"> = 0; </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">i</span><span style="font-size: 13px; font-family: 'Courier New';"> &lt; </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">len</span><span style="font-size: 13px; font-family: 'Courier New';">; </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">i</span><span style="font-size: 13px; font-family: 'Courier New';">++ ) {</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">int</span><span style="font-size: 13px; font-family: 'Courier New';"> </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">data</span><span style="font-size: 13px; font-family: 'Courier New';"> = &nbsp;read();</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">if</span><span style="font-size: 13px; font-family: 'Courier New';">( </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">data</span><span style="font-size: 13px; font-family: 'Courier New';"> == -1 ) {</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">return</span><span style="font-size: 13px; font-family: 'Courier New';"> </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">i</span><span style="font-size: 13px; font-family: 'Courier New';"> == 0 ? -1 : </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">i</span><span style="font-size: 13px; font-family: 'Courier New';">;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 13px; font-family: 'Courier New';">}</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">b</span><span style="font-size: 13px; font-family: 'Courier New';">[ </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">off</span><span style="font-size: 13px; font-family: 'Courier New';"> + </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">i</span><span style="font-size: 13px; font-family: 'Courier New';"> ] = (</span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">byte</span><span style="font-size: 13px; font-family: 'Courier New';">)</span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">data</span><span style="font-size: 13px; font-family: 'Courier New';">;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 13px; font-family: 'Courier New';">}</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">return</span><span style="font-size: 13px; font-family: 'Courier New';"> </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">len</span><span style="font-size: 13px; font-family: 'Courier New';">;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 13px; font-family: 'Courier New';">} &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 13px; font-family: 'Courier New';">};</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New';">}</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;">/**</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * This method is invoked on successful process execution. It gives the protocol handler the changes</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * to write the orchestra result back to client. </span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> */</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">public</span><span style="font-size: 13px; font-family: 'Courier New';"> </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">void</span><span style="font-size: 13px; font-family: 'Courier New';"> writeResponseOnSuccess( Socket </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">socket</span><span style="font-size: 13px; font-family: 'Courier New';">, Message </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">requestMessage</span><span style="font-size: 13px; font-family: 'Courier New';">, Message </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">responseMessage</span><span style="font-size: 13px; font-family: 'Courier New';">, OutputStream </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">baseTCPStream</span><span style="font-size: 13px; font-family: 'Courier New';">, TCPResponseHandler </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">responseHandler</span><span style="font-size: 13px; font-family: 'Courier New';"> ) </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">throws</span><span style="font-size: 13px; font-family: 'Courier New';"> IOException {</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New';"> &nbsp; &nbsp; </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">baseTCPStream</span><span style="font-size: 13px; font-family: 'Courier New';">.write( 1 ); </span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f7f5f;">// Write start frame character</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">responseHandler</span><span style="font-size: 13px; font-family: 'Courier New';">.writeResponseToStream( </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">socket</span><span style="font-size: 13px; font-family: 'Courier New';">, </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">baseTCPStream</span><span style="font-size: 13px; font-family: 'Courier New';">, </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">responseMessage</span><span style="font-size: 13px; font-family: 'Courier New';"> );</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New';"> &nbsp; &nbsp; </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">baseTCPStream</span><span style="font-size: 13px; font-family: 'Courier New';">.write( 0 ); </span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f7f5f;">// Write end fame character</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New';">}</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;">/**</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * In case of a process error this method is invoked. It belongs to the method itself to write any kind</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * of error information to the caller. In this case we write back the constant &quot;1&quot; . This informs the </span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * call that some error occurred</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> */</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">public</span><span style="font-size: 13px; font-family: 'Courier New';"> </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">void</span><span style="font-size: 13px; font-family: 'Courier New';"> writeResponseOnErrror( Socket </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">socket</span><span style="font-size: 13px; font-family: 'Courier New';">, Message </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">requestMessage</span><span style="font-size: 13px; font-family: 'Courier New';">, Message </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">responseMessage</span><span style="font-size: 13px; font-family: 'Courier New';">, OutputStream </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">baseTCPStream</span><span style="font-size: 13px; font-family: 'Courier New';">, TCPResponseHandler </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">responseHandler</span><span style="font-size: 13px; font-family: 'Courier New';">, ErrorObject </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">errorObject</span><span style="font-size: 13px; font-family: 'Courier New';"> ) </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">throws</span><span style="font-size: 13px; font-family: 'Courier New';"> IOException {</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">baseTCPStream</span><span style="font-size: 13px; font-family: 'Courier New';">.write( 1 ); </span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f7f5f;">// Write end frame </span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f7f5f; text-decoration: underline;">charachter</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f7f5f;">. This indicates an error;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">baseTCPStream</span><span style="font-size: 13px; font-family: 'Courier New';">.write( 0 ); </span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f7f5f;">// Write end frame </span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f7f5f; text-decoration: underline;">charachter</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f7f5f;">. This indicates an error;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New';">}</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;">/**</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * In case of a general error this method is invoked. It belongs to the method itself to write any kind</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> * of error information to the caller.</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; color: #3f5fbf;"> */</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New';"> </span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">public</span><span style="font-size: 13px; font-family: 'Courier New';"> </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">boolean</span><span style="font-size: 13px; font-family: 'Courier New';"> writeResponseOnException( Socket </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">socket</span><span style="font-size: 13px; font-family: 'Courier New';">, Message </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">requestMessage</span><span style="font-size: 13px; font-family: 'Courier New';">, Message </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">responseMessage</span><span style="font-size: 13px; font-family: 'Courier New';">, &nbsp;OutputStream </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">baseTCPStream</span><span style="font-size: 13px; font-family: 'Courier New';">, Exception </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">exception</span><span style="font-size: 13px; font-family: 'Courier New';">, String </span><span style="font-size: 13px; font-family: 'Courier New'; color: #6a3e3e;">lastAction</span><span style="font-size: 13px; font-family: 'Courier New';"> ) {</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">return</span><span style="font-size: 13px; font-family: 'Courier New';"> </span><span style="font-size: 13px; font-family: 'Courier New'; font-weight: bold; color: #7f0055;">false</span><span style="font-size: 13px; font-family: 'Courier New';">;</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="width:48px;display:inline-block">&nbsp;</span><span style="font-size: 13px; font-family: 'Courier New';">}</span></p>
<p style="line-height: 1.20; margin: 0px 0px 0px 0px;"><span style="font-size: 13px; font-family: 'Courier New';">}</span></p>
</td>
</tr>
</table>
</div>

<!--ZOOMSTOP-->


</div> <!-- idcontent -->
</div><!-- hmbox --> 
</body>
</html>
