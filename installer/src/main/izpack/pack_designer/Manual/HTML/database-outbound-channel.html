<!DOCTYPE html>
<html>
<head>
   <title>Database Outbound channel</title>
   <meta http-equiv="X-UA-Compatible" content="IE=edge" />
   <meta name="viewport" content="width=device-width, user-scalable=yes, initial-scale=1, minimum-scale=1" />
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="" />
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
   <meta http-equiv="content-language" content="en-us" />
   <meta name="description" content="Description A Database Outbound channel is an adapter for direct database access. It is used to execute SQL statements directly on a database and/or to create structured..." />
   <meta http-equiv="Content-Style-Type" content="text/css" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <link id="tabscheme" type="text/css" href="hm_topic.css" rel="stylesheet" />   
<style type="text/css">
/* No header topics */

/* Breadcrumb trail */
p#breadcrumbs {
font-family: Verdana, Tahoma, Helvetica, Sans-Serif;   padding: 2px 0 1px 2px;
   margin: 0;
   font-size: 8pt; 
   color: #999;
   }   
p#breadcrumbs a { color: #999; text-decoration: none;}
p#breadcrumbs a:visited {color: #999;}
p#breadcrumbs a:hover { color: #333; border-bottom: 1px dotted #333; }

/* Search hightlight color */
span.highlight {background-color: #ffff40;}
</style>
<script type="text/javascript">
var hmHeaderTopic = true;

</script> 
<!--[if IE 9]>
<link id="iesvgcss" rel="stylesheet" type="text/css" href="hm_webhelp_svg.css" />
<![endif]-->	
<script src="jquery.js"></script>
<script type="text/javascript" src="jquery.tools.min.js"></script>
<script type="text/javascript" src="jquery.scrollTo-min.js"></script>
<script type="text/javascript"> 
// General topic variables
var tVars = {
   hmHelpPage: "index.html",
   nextP: "database-reader.html",
   prevP: "designer_channel_outbound.html",
   currP: "database-outbound-channel.html",
   descr: "Description A Database Outbound channel is an adapter for direct database access. It is used to execute SQL statements directly on a database and/or to create structured...",
   keys: "",
   defP: "designer_channel_outbound.html",
   mailUrl: "",
   mailUrlQuery: "",
   projectTitle: "Documentation",
   titleP: "Database Outbound channel",
   mailsubject: "Your feedback: Documentation - Database Outbound channel",
   sharesubject: "Documentation - Database Outbound channel",
   simplesubject: "Documentation%20Feedback",
   mailid: "Database-Outbound-channel",
   mailpath: "Orchestra Documentation &gt; Reference Manual &gt; Designer Reference &gt; Scenario Elements &gt; Channels &gt; Outbound &gt; Database Outbound channel /",
   mailbody: "",
   fbtype: false,
   header: true,
   background: "spacer.gif",
   tablesReady: false,
   togglesReady: false,
   webRedirect: true,
   topicTitleBar: true,
   titleBarContent: "topic",
   printFooter: true,
   zoomTip: "Click here to view image in its original size",
   autoPrint: true,
   printButton: "Print",
   printButtonTip: "Print topic"
   }
// Popup configuration
 var hmpBShadow = true;
 var hmPopSmallDim = 500;
 var hmPopKillVideo = true;
 // AutoTOC variables
 var hmatocvars = {
   atoc_show: true,
   atoc_title: "Topic content",
   atoc_tip: "Navigate to:&nbsp;",
   atoc_minHeaders: 3,
   atoc_btntip_off: "No topiv headers on this site",
   atoc_btntip_on: "Show/hide topic menu",
   atoc_toptip: "Navigate to beginning of page",
   atoc_top: "Beginning of page",
   atoc_bg: "#f6f6f6",
   atoc_border: "silver",
   atoc_linkcolor: "#444",
   atoc_linklimit: 45,
   atoc_hovercolor: "#000",
   atoc_hoverbgcolor: "#e0e0e0"
}
// Sortable tables
var sortVars = {
   europeandate: false,
   germanNumbers: false,
   imagePath: "",
   image_up: "arrow-up.gif",
   image_down: "arrow-down.gif",
   image_empty: "arrow-empty.gif",
   image_none: "arrow-none.gif",
   sort_tip: "Click here to sort column",
   umlauts: "false"
   }

</script>


<script type="text/javascript" src="helpman_settings.js"></script>
<script type="text/javascript" src="helpman_topicinit.js"></script>
<script type="text/javascript" src="hmtopic.js"></script>

   <script type="text/javascript">
     HMSyncTOC("index.html", "database-outbound-channel.html");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
<body>
<!-- Help & Manual Premium Pack templates by Tim Green, Copyright (c) 2011-2014, All Rights Reserved -->
<!--ZOOMSTOP-->



<ul id="topictabs" class="tabs">
<li id="indextab" class="hmtabs"><a href="#" id="indextablink" class="current"><span>Database Outbound channel</span></a></li>
</ul>
<div id="hmbox">
<div id="hmheader">
<div id="hmheadercontents">
<p id="breadcrumbs" class="sync-toc">
<b><span class="sync-toc"><a rel="nofollow" class="sync-toc-link" href="index.html?database-outbound-channel.html" target="_top">&lt;&lt;&nbsp;Click here for table of contents&nbsp;&gt;&gt;</a>&nbsp;&nbsp;</span></b></p> 
<h1 class="p_Heading1"><span class="f_Heading1">Database Outbound channel</span></h1>

</div>
<div id="atocIcon" class="navdivs">
<img class="navicon" id="hmAtocLink" src="contents_off.png" alt="No topiv headers on this site" title="No topiv headers on this site" />
<br /><span>Topic content</span>
</div>
</div>
<div id="autoTocWrapper" class="topicmenu"></div>
<div id="idcontent">
<div id="unclicker"></div>
<!--ZOOMRESTART-->
<h2 class="p_Heading2"><span class="f_Heading2">Description</span></h2>
<p class="p_Normal">A Database Outbound channel is an adapter for direct database access. It is used to execute SQL statements directly on a database and/or to create structured messages from database content.</p>
<h2 class="p_Heading2"><span class="f_Heading2">Creation</span></h2>
<p class="p_Normal">To create a <span class="f_Emphasize">Database Outbound Channel</span> follow the steps described in the general description of <a href="channels.html#create_new_channel" class="topiclink" title="how to create a new channel">Channels</a></p>
<h2 class="p_Heading2"><span class="f_Heading2">Configuration</span></h2>
<p class="p_Normal">The dialog to configure the Database Outbound channel looks like:</p>
<div class="p_ImageCaption"><div style="margin:0;width:839px"><img alt="base view of the channel database outbound channel&nbsp;" title="base view of the channel database outbound channel&nbsp;" width="839" height="497" style="width:839px;height:497px;border:none" src="database-outbound-channel_view.png"/><p style="text-align:center"><span class="f_ImageCaption">base view of the channel database outbound channel<br/>
</span></p></div></div>
<h2 class="p_Heading2"><span class="f_Heading2">Step by Step</span></h2>
<p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_Bulletedtopiclist">Database</span> - Select the appropriate database connection.The database connection has to be created as environment entry (<a href="database-connection.html" class="topiclink">database connection</a>).</p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_Bulletedtopiclist">Properties</span> - Defines all variables that are passed to/returned from the channel.</p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_Bulletedtopiclist">Standard Mode / Preprocessor Mode</span><span class="f_BulletedListNormal"> - The </span><span class="f_Emphasize">preprocessor mode</span><span class="f_BulletedListNormal"> allows the replace text elements in the channel script before the script is executed. This may be necessary if you want to build or change SQL statements dynamically and it is not possible to used bound variables. Values used in the where statement of a select or update statement are typically set using variable references like </span><span class="f_CodeExample">:(varname)</span><span class="f_BulletedListNormal">. But if you want to set other parts of the statement, e.g. you want to set column names dynamically you can use the </span><span class="f_Emphasize">preprocessor mode</span><span class="f_BulletedListNormal">. These preprocessor variables are references like </span><span class="f_CodeExample">#&lt;varname&gt;#</span><span class="f_BulletedListNormal">. Additionally the names of these variables must be added to the text field denoted with </span><span class="f_Emphasize">&lt;enter a comma separated list of variables that should be preprocessed&gt;</span><span class="f_BulletedListNormal">.</span><br />
<span class="f_BulletedListNormal">In the picture above showing of the configuration dialog you can see the usage of two preprocessor variables STARTVAL and ENDVAL.</span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_Bulletedtopiclist">Orchestra SQL scripting language field</span> - Text area for the Channel script. The Script must use a special language mixing SQL statement and java commands.</p><p class="p_Subheading"><span class="f_Subheading">Scripting language</span></p>
<p class="p_Normal">The built-in language for the SQL statements is a combination of Java statements and SQL statements.</p>
<p class="p_Normal">The following control structures are supported.</p>
<p class="p_Subheading2"><span class="f_Subheading2">If-Statement</span></p>
<div style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 10px;"><table style="border:none; border-spacing:1px;">
<thead>
<tr style="text-align:left;vertical-align:top;">
<th style="vertical-align:top; width:215px; height:14px; background-color:#0062a2; padding:6px; border:solid 2px #002a39;"><p class="p_Normal"><span style="font-weight: bold; color: #ffffff;">Statement</span></p>
</th>
<th style="vertical-align:top; width:235px; height:14px; background-color:#0062a2; padding:6px; border:solid 2px #002a39;"><p class="p_Normal"><span style="font-weight: bold; color: #ffffff;">Example</span></p>
</th>
</tr>
</thead>
<tbody>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:215px; padding:6px; border:solid 2px #002a39;"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">if &lt;java expression&gt; then</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp;&lt;statement&gt;</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">&nbsp;</span></p>
</td>
<td style="vertical-align:top; width:235px; padding:6px; border:solid 2px #002a39;"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">if intVal == 1 then</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp; System.out.println(intVal);</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">end</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:215px; background-color:#0062a2; padding:6px; border:solid 2px #002a39;"><p class="p_Normal"><span style="font-weight: bold; color: #ffffff;">Statement</span></p>
</td>
<td style="vertical-align:top; width:235px; background-color:#0062a2; padding:6px; border:solid 2px #002a39;"><p class="p_Normal"><span style="font-weight: bold; color: #ffffff;">Example</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:215px; padding:6px; border:solid 2px #002a39;"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">if &lt;java expression&gt; then</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp; &lt;statements&gt;</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">else</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp; &lt;statements&gt;</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">end</span></p>
</td>
<td style="vertical-align:top; width:235px; padding:6px; border:solid 2px #002a39;"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">if sVal.equals(&quot;size&quot;) then</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp; System.out.println(sVal);</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">else</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp; System.out.println(&quot;unknown&quot;);</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">end</span></p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p_Subheading2"><span class="f_Subheading2">while-Statement</span></p>
<div style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 10px;"><table style="border:none; border-spacing:1px;">
<thead>
<tr style="text-align:left;vertical-align:top;">
<th style="vertical-align:top; width:215px; height:14px; background-color:#0062a2; padding:6px; border:solid 2px #002a39;"><p class="p_Normal"><span style="font-weight: bold; color: #ffffff;">Statement</span></p>
</th>
<th style="vertical-align:top; width:235px; height:14px; background-color:#0062a2; padding:6px; border:solid 2px #002a39;"><p class="p_Normal"><span style="font-weight: bold; color: #ffffff;">Example</span></p>
</th>
</tr>
</thead>
<tbody>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:215px; padding:6px; border:solid 2px #002a39;"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">while ( &lt;java expression&gt; ) </span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp;&lt;statements&gt;</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">end</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">&nbsp;</span></p>
</td>
<td style="vertical-align:top; width:235px; padding:6px; border:solid 2px #002a39;"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">while ( intVal &gt; 1 )</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp; System.out.println( intVal );</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp; intVal = intVal - 1;</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">end</span></p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p_Normal">&nbsp;</p>
<p class="p_Subheading2"><span class="f_Subheading2">Simple SQL-Statement</span></p>
<p class="p_Normal">Apart from the standard Java expressions, SQL statements also act valid statements. &nbsp; It means that SQL commands are allowed to be integrated directly in the script code. The following statements are supported:</p>
<p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_Bulletedtopiclist">insert</span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_Bulletedtopiclist">update</span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_Bulletedtopiclist">delete</span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_Bulletedtopiclist">create</span></p><p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_Bulletedtopiclist">drop</span></p><div style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 10px;"><table style="border:none; border-spacing:1px;">
<thead>
<tr style="text-align:left;vertical-align:top;">
<th style="vertical-align:top; width:296px; height:14px; background-color:#0062a2; padding:6px; border:solid 2px #002a39;"><p class="p_Normal"><span style="font-weight: bold; color: #ffffff;">Example</span></p>
</th>
</tr>
</thead>
<tbody>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:296px; padding:6px; border:solid 2px #002a39;"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">delete from table where field = 1;</span></p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">If parameter are to be passed to a SQL statement, within the statement parameters must be referenced using the notation &quot;:(&quot; &lt;expression&gt; &quot;)&quot; or &quot;$&quot;parametername or &quot;$(&quot; parametername &quot;)&quot;</p>
<p class="p_Normal">The above example is extended using a parameter reference in the where condition:</p>
<div style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 10px;"><table style="border:none; border-spacing:1px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:296px; height:14px; background-color:#0062a2; padding:6px; border:solid 2px #002a39;"><p class="p_Normal"><span style="font-weight: bold; color: #ffffff;">Example</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:296px; padding:6px; border:solid 2px #002a39;"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">delete from table where field = $intVal;</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">In addition to simple variables, whole expressions can also be passed as a parameter.</p>
<div style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 10px;"><table style="border:none; border-spacing:1px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:296px; height:14px; background-color:#0062a2; padding:6px; border:solid 2px #002a39;"><p class="p_Normal"><span style="font-weight: bold; color: #ffffff;">Example</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:296px; padding:6px; border:solid 2px #002a39;"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">delete from table where field = :( intVal + 1 );</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Normal">&nbsp;</p>
<p class="p_Subheading2"><span class="f_Subheading2">Creating messages &nbsp;from database content</span></p>
<p class="p_Normal">Besides the modification of table contents, the channel also provides the possibility to read messages from a database. For this purpose, the &nbsp;following command is available:</p>
<div style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 10px;"><table style="border:none; border-spacing:1px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:489px; height:14px; background-color:#0062a2; padding:6px; border:solid 2px #002a39;"><p class="p_Normal"><span style="font-weight: bold; color: #ffffff;">Statement</span></p>
</td>
<td style="vertical-align:top; width:318px; height:14px; background-color:#0062a2; padding:6px; border:solid 2px #002a39;"><p class="p_Normal"><span style="font-weight: bold; color: #ffffff;">Example</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:489px; padding:6px; border:solid 2px #002a39;"><p class="p_CodeExample" style="line-height: 1.0; white-space: nowrap; page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">&lt;message&nbsp;variable&gt;&nbsp;=&nbsp;&quot;create&quot;&nbsp;&quot;message&quot;&nbsp;&lt;name&gt;&nbsp;&quot;in&quot;&nbsp;[&nbsp;&quot;namespace&quot;&nbsp;&lt;namespace&gt;&nbsp;]</span></p>
<p class="p_CodeExample" style="line-height: 1.0; white-space: nowrap; page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">{</span></p>
<p class="p_CodeExample" style="line-height: 1.0; white-space: nowrap; page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;select&nbsp;[&nbsp;into&nbsp;&lt;name&gt;:&nbsp;]&nbsp;&lt;projection&nbsp;list&gt;&nbsp;from&nbsp;&lt;table(s)&gt;;</span></p>
<p class="p_CodeExample" style="line-height: 1.0; white-space: nowrap; page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">}</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">&nbsp;</span></p>
</td>
<td style="vertical-align:top; width:318px; padding:6px; border:solid 2px #002a39;"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">MSG = create message &quot;DEMO&quot;</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">{</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp;select into PARENT: * from PARENT;</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">}</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Normal">&nbsp;</p>
<div style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 10px;"><table class="warningattentioninfo table" style="border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:37px; padding:0px;"><p class="p_Normal"><img alt="alert-info-ico" width="24" height="24" style="margin:0;width:24px;height:24px;border:none" src="alert-info-ico.png"/></p>
</td>
<td style="vertical-align:top; width:1131px; padding:0px;"><p class="p_Info"><span class="f_Info">All variables, like MSG, must be defined in the variables area of the channel editor.</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Normal">As it was already demonstrated with the simple commands, parameters can also be passed to the select &nbsp;statements. In this way, it is possible to read out a data record exactly. The following example shows also how to set a default namespace for the generated message.</p>
<div style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 10px;"><table style="border:none; border-spacing:1px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:439px; height:14px; background-color:#0062a2; padding:6px; border:solid 2px #002a39;"><p class="p_Normal"><span style="font-weight: bold; color: #ffffff;">Example</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:439px; padding:6px; border:solid 2px #002a39;"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">MSG = create message &quot;DEMO&quot; in namespace &quot;urn:emds:db&quot;</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">{</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp;select into PARENT: * from PARENT where ID = $EXT_ID;</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">}</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">In addition, the channel provides the possibility to read out hierarchical structure by nested Select - Statements. The following example demonstrates this possibility: Here, the given Select statement of the child will be run for each row of the parent. It is also demonstrated, that the name of the generated XML node can be omitted. In this case the table name is used as element name.</p>
<div style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 10px;"><table style="border:none; border-spacing:1px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:439px; height:14px; background-color:#0062a2; padding:6px; border:solid 2px #002a39;"><p class="p_Normal"><span style="font-weight: bold; color: #ffffff;">Example</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:439px; padding:6px; border:solid 2px #002a39;"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">MSG = create message &quot;DEMO&quot;</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">{</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp;select ID, NAME from PARENT</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp;{</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp; &nbsp; select CPOS, CDAT, AMOUNT from CHILD;</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp;}</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">}</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">If the selection of the child data records at a multilevel Select should be combined with the parent via a key, Orchestra provides the possibility of a join. This will be defined as shown in the following example: The argument of the JOIN-Operator is the name of a column of the Parent -Select:</p>
<div style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 10px;"><table style="border:none; border-spacing:1px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:439px; height:14px; background-color:#0062a2; padding:6px; border:solid 2px #002a39;"><p class="p_Normal"><span style="font-weight: bold; color: #ffffff;">Example</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:439px; padding:6px; border:solid 2px #002a39;"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">MSG = create message &quot;DEMO&quot;</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">{</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp;select into parentnode: ID, NAME from PARENT</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp;{</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp; &nbsp; select into childnode: CPOS, CDAT, AMOUNT from CHILD </span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp; &nbsp; &nbsp; where P_ID = :Join(ID);</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp;}</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">}</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">For the statement „create message“, further variations exists.</p>
<p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_buttonslabelsetc">create temporary</span> message</p><p class="p_Normal" style="margin: 0px 0px 0px 23px;">Create a message which is valid only within the current script run. After the run, the message will be discarded.</p>
<p style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 10px;"><span style="font-size:15px; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_buttonslabelsetc">create external</span> message</p><p class="p_Normal" style="margin: 0px 0px 0px 23px;">Create a message whose records will be read from the database when it is accessed. That means that the message contents will remain completely in the external database. Only at the access (for example, in a Mapping), the data will be read.</p>
<p class="p_Subheading2"><span class="f_Subheading2">Direct access by ResultSet</span></p>
<p class="p_Normal">To read data directly from the database, the channel provides additionally the statement <span class="f_Emphasize">create resultset</span>. This statement creates an object of the type java.sql.ResultSet. With this object type, all operations which are defined in the Java-class are possible.</p>
<p class="p_Normal">With the method next, the script can iterate stepwise over the result set. The use of this statement is demonstrated as follows:</p>
<div style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 10px;"><table style="border:none; border-spacing:1px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:439px; height:14px; background-color:#0062a2; padding:6px; border:solid 2px #002a39;"><p class="p_Normal"><span style="font-weight: bold; color: #ffffff;">Example</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:439px; padding:6px; border:solid 2px #002a39;"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">/* ***************************************************************</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> * Load data from database.</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> * &lt;resultset variable&gt; = &quot;create&quot; &quot;resultset&quot; &nbsp;&lt;select statement&gt;;</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> * *************************************************************** */</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">cursor = create resultset select * from TEST;</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">/* ****************************************************************</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> * Iterate over the resultset and print the content</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> * ************************************************************** */</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">while( cursor.next() )</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp; &nbsp;System.out.println( cursor.getString( 1 ) );</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp; &nbsp;System.out.println( cursor.getString( 2 ) );</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">end</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">cursor.close();</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Normal">Note that the variable cursor must be defined in the variables area of the channel editor.</p>
<p class="p_Normal">To guarantee a proper release of the resources, you must ensure that the ResultSetResultSet is closed with close (cursor.close()).</p>
<p class="p_Subheading2"><span class="f_Subheading2">Direct database access using a resultset</span></p>
<p class="p_Normal">All expressions and statements which can be used within the script are currently based on the language Java. As an alternative, XPath-Expressions can also be used for this.</p>
<p class="p_Normal">To indicate an expression in XPath format, following writing style is used:</p>
<p class="p_Normal">XPath( &lt;XPath-expression&gt; )</p>
<p class="p_Normal">The following example will clarify the use of XPath-Expressions:</p>
<div style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 10px;"><table style="border:none; border-spacing:1px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:439px; height:14px; background-color:#0062a2; padding:6px; border:solid 2px #002a39;"><p class="p_Normal"><span style="font-weight: bold; color: #ffffff;">Example</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:439px; padding:6px; border:solid 2px #002a39;"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">/* ************************************************************************</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> * Load data from database. Store the data into the internal message</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> * *********************************************************************** */</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">cursor = create resultset select id, name from PARENT;</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">/*************************************************************************</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> * Iterate over the resultset and store the data to the table target</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> *********************************************************************** */</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">while( cursor.next() )</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp; &nbsp;i = i + 1;</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp; &nbsp;name = cursor.getString(&quot;name&quot;);</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp; &nbsp;id = cursor.getInt(&quot;id&quot;);</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp; &nbsp;System.out.println( &quot;id: &quot; + i + &quot; &gt;&gt;&gt; &quot; + id );</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp; &nbsp;System.out.println( &quot;name: &quot; + i + &quot; &gt;&gt;&gt; &quot; + name );</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp; &nbsp;insert into target (ident, name) values ( :(id), :(name) );</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">end</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">cursor.close();</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Normal">Note that the variables cursor, i, name and id must be defined in the variables area of the channel editor.</p>
<p class="p_Subheading2"><span class="f_Subheading2">Using XPath to access the content of a message</span></p>
<p class="p_Normal">Within the channel you also may use XPath expressions to access the content of a <a href="designer_glossary_message.html" class="topiclink">Message</a>. To mark an expression as an XPath expression within the scripting language of the database outbound channel the syntax <span class="f_CodeExample">XPath( &lt;xpath expression&gt; )</span> is used.</p>
<p class="p_Normal">An example showing the use of XPath expressions &nbsp;is shown below. </p>
<p class="p_Normal">First of all you must define the following variables in the variables area of the channel editor.</p>
<div style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 10px;"><table style="border:none; border-spacing:1px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:183px; height:14px; background-color:#0062a2; padding:6px; border:solid 2px #002a39;"><p class="p_Normal"><span style="font-weight: bold; color: #ffffff;">Variable</span></p>
</td>
<td style="vertical-align:top; width:100px; height:14px; background-color:#0062a2; padding:6px; border:solid 2px #002a39;"><p class="p_Normal"><span style="font-weight: bold; color: #ffffff;">Type</span></p>
</td>
<td style="vertical-align:top; width:244px; background-color:#0062a2; padding:6px; border:solid 2px #002a39;"><p class="p_Normal"><span style="font-weight: bold; color: #ffffff;">Description</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:183px; height:2px; padding:6px; border:solid 2px #002a39;"><p class="p_Normal">MSG</p>
</td>
<td style="vertical-align:top; width:100px; height:2px; padding:6px; border:solid 2px #002a39;"><p class="p_Normal">Message</p>
</td>
<td style="vertical-align:top; width:244px; height:2px; padding:6px; border:solid 2px #002a39;"><p class="p_Normal">Input Message</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:183px; padding:6px; border:solid 2px #002a39;"><p class="p_Normal">currentNode</p>
</td>
<td style="vertical-align:top; width:100px; padding:6px; border:solid 2px #002a39;"><p class="p_Normal">Node</p>
</td>
<td style="vertical-align:top; width:244px; padding:6px; border:solid 2px #002a39;"><p class="p_Normal">Current node „PARENT“ </p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:183px; padding:6px; border:solid 2px #002a39;"><p class="p_Normal">detailNode</p>
</td>
<td style="vertical-align:top; width:100px; padding:6px; border:solid 2px #002a39;"><p class="p_Normal">Node</p>
</td>
<td style="vertical-align:top; width:244px; padding:6px; border:solid 2px #002a39;"><p class="p_Normal">Current node „CHILD“ </p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:183px; padding:6px; border:solid 2px #002a39;"><p class="p_Normal">valParent</p>
</td>
<td style="vertical-align:top; width:100px; padding:6px; border:solid 2px #002a39;"><p class="p_Normal">String</p>
</td>
<td style="vertical-align:top; width:244px; padding:6px; border:solid 2px #002a39;"><p class="p_Normal">Saves the value of the ID-Field.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:183px; padding:6px; border:solid 2px #002a39;"><p class="p_Normal">detailValue</p>
</td>
<td style="vertical-align:top; width:100px; padding:6px; border:solid 2px #002a39;"><p class="p_Normal">String</p>
</td>
<td style="vertical-align:top; width:244px; padding:6px; border:solid 2px #002a39;"><p class="p_Normal">Saves the value of the ID-Field<span style="color: #0000ff;">.</span></p>
</td>
</tr>
</table>
</div>
<p><span style="font-size: 13px; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p class="p_Normal">In this example, a message will be traversed and individual element of the message will be displayed on the monitor.</p>
<div style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 10px;"><table style="border:none; border-spacing:1px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:654px; height:14px; background-color:#0062a2; padding:6px; border:solid 2px #002a39;"><p class="p_Normal"><span style="font-weight: bold; color: #ffffff;">Example</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:654px; padding:6px; border:solid 2px #002a39;"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">/* ***********************************************************************</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> * Iterate over the resultset and store the data to the table parent_child</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> * ******************************************************************** */</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">for ( currentNode in XPath( $MSG/PARENT ) &nbsp;)</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">&nbsp;</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp; valParent = XPath( $currentNode/ID/text() );</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp; System.out.println( &quot;[&quot; + valParent + &quot;]&quot; );</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">&nbsp;</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp; for( detailNode in XPath( $currentNode/CHILD ) )</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">&nbsp;</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp; &nbsp;detailValue = XPath( $detailNode/ID/text() );</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp; &nbsp;System.out.println( valParent + &quot;/&quot; + detailValue );</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">&nbsp;</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp; &nbsp;insert into parent_child( name, firstname) </span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;values( :(valParent), :(detailValue ) );</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp; end</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">end</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">If this script is used on the following shown input message,</p>
<div style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 10px;"><table style="border:none; border-spacing:1px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:439px; height:14px; background-color:#0062a2; padding:6px; border:solid 2px #002a39;"><p class="p_Normal"><span style="font-weight: bold; color: #ffffff;">Input message</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:439px; padding:6px; border:solid 2px #002a39;"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">&lt;DATA&gt;</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp; &nbsp;&lt;PARENT&gt;</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp; &nbsp; &nbsp; &nbsp;&lt;ID&gt;PA1&lt;/ID&gt;</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp; &nbsp; &nbsp; &nbsp;&lt;CHILD&gt;</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;ID&gt;C1.1&lt;/ID&gt;</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp; &nbsp; &nbsp; &nbsp;&lt;/CHILD&gt;</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp; &nbsp; &nbsp; &nbsp;&lt;CHILD&gt;</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;ID&gt;C2.1&lt;/ID&gt;</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp; &nbsp; &nbsp; &nbsp;&lt;/CHILD&gt; &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp; &nbsp;&lt;/PARENT&gt;</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp; &nbsp;&lt;PARENT&gt;</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp; &nbsp; &nbsp; &nbsp;&lt;ID&gt;PA2&lt;/ID&gt;</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp; &nbsp; &nbsp; &nbsp;&lt;CHILD&gt;</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;ID&gt;C1.2&lt;/ID&gt;</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp; &nbsp; &nbsp; &nbsp;&lt;/CHILD&gt;</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp; &nbsp; &nbsp; &nbsp;&lt;CHILD&gt;</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;ID&gt;C2.2&lt;/ID&gt;</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp; &nbsp; &nbsp; &nbsp;&lt;/CHILD&gt; &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp; &nbsp;&lt;/PARENT&gt;</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">&lt;/DATA&gt; &nbsp; </span></p>
</td>
</tr>
</table>
</div>
<p class="p_Normal">the following output will be created:</p>
<div style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 10px;"><table style="border:none; border-spacing:1px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:439px; height:14px; background-color:#0062a2; padding:6px; border:solid 2px #002a39;"><p class="p_Normal"><span style="font-weight: bold; color: #ffffff;">Console output</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:439px; padding:6px; border:solid 2px #002a39;"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">[PA1]</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">PA1/C1.1</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">[PA1]</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">PA1/C1.1</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">PA1/C2.1</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">[PA2]</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">PA2/C1.2</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">PA2/C2.2</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">&nbsp;</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Normal">This example demonstrated how to iterate over a node set. A nodeset is created by executing a XPath expression. The Syntax for an iteration loop is:</p>
<div style="text-align: left; text-indent: 0px; line-height: 1.80; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 10px;"><table style="border:none; border-spacing:1px;">
<thead>
<tr style="text-align:left;vertical-align:top;">
<th style="vertical-align:top; width:215px; height:14px; background-color:#0062a2; padding:6px; border:solid 2px #002a39;"><p class="p_Normal"><span style="font-weight: bold; color: #ffffff;">Statement</span></p>
</th>
<th style="vertical-align:top; width:235px; height:14px; background-color:#0062a2; padding:6px; border:solid 2px #002a39;"><p class="p_Normal"><span style="font-weight: bold; color: #ffffff;">Example</span></p>
</th>
</tr>
</thead>
<tbody>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:215px; padding:6px; border:solid 2px #002a39;"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">for ( &lt;node-variable&gt; &quot;in&quot; &lt;nodeset&gt; )</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp; &nbsp;&lt;statement(s)&gt;</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">end</span></p>
</td>
<td style="vertical-align:top; width:235px; padding:6px; border:solid 2px #002a39;"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">for ( currentNode in XPath( $MSG/PARENT ) &nbsp;)</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample"> &nbsp; valParent = XPath( $currentNode/ID/text() );</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">end</span></p>
</td>
</tr>
</tbody>
</table>
</div>
<h2 class="p_Heading2"><span class="f_Heading2">Testing the channel</span></h2>
<p class="p_Normal">You may test the Database Outbound Channel like every other outbound channel. </p>
<p class="p_Normal">When the channel is configured the user can test its functionality by clicking on the test symbol in the tool bar of the Designer.</p>
<p class="p_Normal">Then a dialog opens showing the events the channel receives or an error message.</p>
<h2 class="p_Heading2"><span class="f_Heading2">See also</span></h2>
<p class="p_Normal">You also may use the channels <a href="database-blob-reader.html" class="topiclink">Database BLOB Reader</a>, <a href="database-reader.html" class="topiclink">Database Reader</a>, <a href="database-source-reader.html" class="topiclink">Database Source Reader</a> and <a href="database-target.html" class="topiclink">Database Target</a> to access a database resources.</p>

<!--ZOOMSTOP-->


</div> <!-- idcontent -->
</div><!-- hmbox --> 
</body>
</html>
