<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>


  <title>Change password</title>
  <script type="text/javascript">

	function getScenarioID(){
		var query = location.search;
		return query.replace("?id=","");
	}
	
	function setScenarioIDValue(){
	 	document.forms[0].scenarioid.value = getScenarioID();
	}
	
	function checkForm() {

  		if (document.forms[0].user.value==""){
			alert("Bitte geben Sie einen User ein");
			return(false);
  		}

  		if (document.forms[0].password.value==""){
			alert("Bitte geben Sie eine Password ein");
			return(false);
  		}

    	if (document.forms[0].newpassword.value.length<8){
			alert("Das Password muss mindestens 8-stellig sein");
			return(false);
  		}
  		
  		var strUpperReg = "[A-Z]+";
  		var upperRegex = new RegExp(strUpperReg);
  		
  		if(upperRegex.test(document.forms[0].newpassword.value)==false){
  			alert("Das neue Password muss mindestens einen Großbuchstaben enthalten");
			return(false);
  		}
  		
  		var strLowerReg = "[a-z]+";
  		var lowerRegex = new RegExp(strLowerReg);
  		
  		if(lowerRegex.test(document.forms[0].newpassword.value)==false){
  			alert("Das neue Password muss mindestens einen Kleinbuchstaben enthalten");
			return(false);
  		}
  		
  		var strDigitReg = "[0-9]+";
  		var digitRegex = new RegExp(strDigitReg);
  		
  		if(digitRegex.test(document.forms[0].newpassword.value)==false){
  			alert("Das neue Password muss mindestens eine Ziffer enthalten");
			return(false);
  		}
  		
  		var strAddReg = "[^a-zA-Z0-9]+";
  		var addRegex = new RegExp(strAddReg);
  		
  		if(addRegex.test(document.forms[0].newpassword.value)==false){
  			alert("Das neue Password muss mindestens ein Sonderzeichen enthalten");
			return(false);
  		}
    	
    	if (document.forms[0].confirmpassword.value==""){
			alert("Bitte wiederholen Sie das neue Password");
			return(false);
  		}

    	if (document.forms[0].newpassword.value != document.forms[0].confirmpassword.value){
			alert("Bitte wiederholen Sie das neue Password korrekt");
			return(false);
  		}

  		else return(true);

}
		
  </script>
</head>


<body onload="setScenarioIDValue()">
<img style="width: 1000px; height: 123px;" alt="Header" src="header.png"><br>

<h1 style="font-family: Arial;">Use this form to change your password</h1>

	
<form action="/Orchestra/default/dynamic/ChangePassword" method="post" onsubmit="return checkForm()">
		
  <table style="font-family: Arial;">

			<tbody>
      <tr>

				<td>
					User name:
				</td>

				<td>
					<input id="user" name="user" type="text">
				</td>

			</tr>

			<tr>

				<td>
					Old password:
				</td>

				<td>
					<input id="password" name="password" type="password">
				</td>

			</tr>

						<tr>

				<td>
					New password:
				</td>

				<td>
					<input id="newpassword" name="newpassword" type="password">
				</td>

			</tr>

						<tr>

				<td>
					Confirm password:
				</td>

				<td>
					<input id="confirmpassword" name="confirmpassword" type="password">
				</td>

			</tr>

			
			
		
    </tbody>
  </table>
  <br>

		<input id="scenarioid" name="scenarioid" type="hidden">
		<input type="submit">
</form>
 
</body>
</html>
